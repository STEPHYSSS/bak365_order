(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/indexCanteen/areaList/addArea"],{2366:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.showDel=!1})},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"6a1b":function(t,e,n){"use strict";(function(t){n("b895");i(n("66fd"));var e=i(n("cf89"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"7da0":function(t,e,n){},"916f":function(t,e,n){"use strict";n.r(e);var i=n("b1dd"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},b1dd:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("3955")),o=n("bf5e");function a(t){return t&&t.__esModule?t:{default:t}}var r=getApp(),s=function(){n.e("components_uni/cmd-cell-item/cmd-cell-item").then(function(){return resolve(n("98e0"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components_uni/uni-popup/uni-popup").then(function(){return resolve(n("117d"))}.bind(null,n)).catch(n.oe)},c={components:{cmdCellItem:s,uniPopup:u},data:function(){return{form:{},colorIndex:r.globalData.colorIndex,disabledBtn:!1,currentQQMap:{},showDel:!1,OptType:null,isEdit:!1}},methods:{addAreaFun:function(){var e=this;Object.assign(this.form,{Type:"SetAddressInfo",OptType:this.OptType}),this.form.Address?this.form.HouseNumber?this.form.Name?this.form.Mobile?(0,o.checkMobile)(this.form.Mobile)?(this.disabledBtn=!0,i.default.api("Public/Submit_ajax.aspx",this.form).then((function(n){e.disabledBtn=!1,t.showToast({title:e.isEdit?"地址修改成功":"地址添加成功",icon:"none"}),setTimeout((function(){t.redirectTo({url:"/pages/indexCanteen/areaList/areaList?editArea=true&OptType="+e.OptType})}),1e3),t.removeStorageSync("currentQQMap")})).catch((function(t){e.disabledBtn=!1}))):t.showToast({title:"手机号格式错误",icon:"none"}):t.showToast({title:"填写手机号",icon:"none"}):t.showToast({title:"填写联系人",icon:"none"}):t.showToast({title:"填写门牌号",icon:"none"}):t.showToast({title:"选择地址",icon:"none"})},checkboxChange:function(t){this.form.IsDefault=t.detail.value[0]||""},clickSearchArea:function(){t.navigateTo({url:"/pages/indexCanteen/areaList/qqmapSearch?OptType="+this.OptType})},delFun:function(){this.showDel=!0},delAreaFun:function(){var e=this;i.default.api("Public/Submit_ajax.aspx?Type=DelAddressInfo",{AddressNo:this.form.AddressNo}).then((function(n){e.disabledBtn=!1,t.showToast({title:"删除成功",icon:"none"}),setTimeout((function(){t.redirectTo({url:"/pages/indexCanteen/areaList/areaList"})}),1e3)})).catch((function(t){e.disabledBtn=!1}))}},onLoad:function(e){e.item?(this.form=e.item?JSON.parse(e.item):{},this.isEdit=!0):this.isEdit=!1,this.OptType=e.OptType||"",t.removeStorageSync("currentQQMap"),r.globalData.openID||(this.$showLoads(0,""),this.$store.dispatch("Login"),this.$showLoads(1,""))},onShow:function(){t.getStorageSync("currentQQMap")&&(this.currentQQMap=t.getStorageSync("currentQQMap"),this.form.Latitude=this.currentQQMap.latitude,this.form.Longitude=this.currentQQMap.longitude,void 0===this.currentQQMap.addr?t.showToast({title:"请选择具体地址",icon:"none"}):this.form.Address=this.currentQQMap.addr+"("+this.currentQQMap.title+")")}};e.default=c}).call(this,n("543d")["default"])},cf89:function(t,e,n){"use strict";n.r(e);var i=n("2366"),o=n("916f");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("f4f8");var r,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"cf78a8aa",null,!1,i["a"],r);e["default"]=u.exports},f4f8:function(t,e,n){"use strict";var i=n("7da0"),o=n.n(i);o.a}},[["6a1b","common/runtime","common/vendor"]]]);