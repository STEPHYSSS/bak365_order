(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/indexCanteen/collage/info"],{"206b":function(e,t,n){"use strict";var o=n("d393"),i=n.n(o);i.a},"26cc":function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement,n=(e._self._c,JSON.stringify(e.groupInfo)),o=Number(e.groupInfo.OpenGroupBuyMinCount),i=Number(e.groupInfo.GroupCount),u=e.ActiveStatus(e.groupInfo.ActiveStatus);e.$mp.data=Object.assign({},{$root:{g0:n,m0:o,m1:i,m2:u}})},u=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}))},"725a":function(e,t,n){"use strict";n.r(t);var o=n("26cc"),i=n("c82b");for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);n("206b");var a,c=n("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"fd69e3e0",null,!1,o["a"],a);t["default"]=r.exports},"9e4d":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("3955"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){n.e("components_uni/uni-countdown/uni-countdown").then(function(){return resolve(n("84ca"))}.bind(null,n)).catch(n.oe)},a=function(){Promise.all([n.e("common/vendor"),n.e("components_uni/uni-icons/uni-icons")]).then(function(){return resolve(n("a398"))}.bind(null,n)).catch(n.oe)},c=function(){Promise.all([n.e("common/vendor"),n.e("components/stepperCard/index")]).then(function(){return resolve(n("32e4"))}.bind(null,n)).catch(n.oe)},r=getApp(),s={components:{uniIcons:a,uniCountdown:u,stepperCard:c},data:function(){return{activeTimeMy:{hours:"0",minute:"0",second:"0",day:""},ActiveID:"",GroupNo:"",groupInfo:{},activeTimeEnd:!1,goodInfo:{},myCollage:!1}},onLoad:function(e){var t=this;this.ActiveID=e.ActiveID||"",this.myCollage=e.myCollage||!1,this.GroupNo=e.GroupNo||"",r.globalData.openID?this.getInfo():this.$store.dispatch("Login").then((function(e){t.getInfo()}))},methods:{getInfo:function(){var t=this;this.$showLoads(0,""),o.default.api("Active/GroupBuy/GroupDetail.aspx",{ActiveID:this.ActiveID,GroupNo:this.GroupNo}).then((function(n){t.groupInfo=n,t.goodInfo=t.groupInfo.ProdInfo,t.goodInfo.num=1,t.goodInfo.ActiveID=t.ActiveID,t.goodInfo.StockQty=t.goodInfo.ActiveStock,t.goodInfo.EveryOneMaxBuyCount=t.groupInfo.EveryOneMaxBuyCount,t.goodInfo.SalePrice=t.goodInfo.ActiveSalePrice,t.groupInfo.EndTime&&t.getTimeout(),t.$showLoads(1,""),e.showShareMenu({withShareTicket:!0,title:t.goodInfo.ActiveName,path:"/pages/indexCanteen/collage/info?ActiveID="+t.ActiveID+"&GroupNo="+t.GroupNo})})).catch((function(e){t.$showLoads(1,"")}))},ruleTipRight:function(){e.navigateTo({url:"/pages/indexCanteen/collage/explain"})},getTimeout:function(){var e=(new Date).getTime(),t=new Date(this.groupInfo.EndTime.replace(/-/g,"/")).getTime(),n=t-e;"6"!==this.groupInfo.ActiveStatus?(this.activeTimeMy={day:parseInt(n/864e5),hours:parseInt(n%864e5/36e5),minute:parseInt(n%36e5/6e4),second:parseInt(n%6e4/1e3)},this.activeTimeEnd=n<=0):this.activeTimeMy={}},offHand:function(){this.$refs.stepperCard.clickTag()},mycurrentPage:function(t,n,i){t.itemData.hasOwnProperty("ActiveID")||(t.itemData.ActiveID=this.ActiveID),"{}"!==JSON.stringify(i)&&(e.showLoading({title:""}),o.default.api("Active/Submit_ajax.aspx",{ActiveID:this.ActiveID||"",Type:"AddGroupBuy",GroupNo:this.GroupNo,HeardImg:i.HeardImg,NickName:i.NickName}).then((function(n){e.hideLoading(),e.setStorageSync("listCollage",[t.itemData]),e.navigateTo({url:"../paymentOrder/index?isCollage=true"})})).catch((function(t){e.showToast({title:t||"参团失败！",duration:2e3,icon:"none"})})))},ActiveStatus:function(e){switch(e){case"0":return"活动未开始";case"1":return"购买数量达到上限";case"3":return"有订单未付款";case"4":return"活动已结束";case"5":return"个人拼团有效期已结束";case"6":return"当前团已成,不能再参与该团";case"7":return"不能重复参与自己的团"}}}};t.default=s}).call(this,n("543d")["default"])},c358:function(e,t,n){"use strict";(function(e){n("b895");o(n("66fd"));var t=o(n("725a"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},c82b:function(e,t,n){"use strict";n.r(t);var o=n("9e4d"),i=n.n(o);for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);t["default"]=i.a},d393:function(e,t,n){}},[["c358","common/runtime","common/vendor"]]]);