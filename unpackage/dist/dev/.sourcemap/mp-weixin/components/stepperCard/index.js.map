{"version":3,"sources":["webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?8053","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?f868","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?6c2c","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?34d9","uni-app:///components/stepperCard/index.vue","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?f9d3","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/components/stepperCard/index.vue?98fc"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAA+oB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiFnqB,iF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+nBAGA,2DACA,mB,yuBAIA,EACA,cACA,kBADA,EAEA,gBAFA,EAGA,wBAHA,EAIA,0BAJA,EADA,EAOA,SACA;AACA,gBACA,YADA,EAEA,SAFA,EAFA,EAMA,cACA,aADA,EAEA,YAFA,EANA,EAUA,aACA,aADA,EAEA,YAFA,EAVA,EAcA;AACA,kBACA,aADA,EAEA,WAFA,EAfA,EAmBA;AACA,qBACA,aADA,EAEA,YAFA,EApBA,EAPA,EAgCA,IAhCA,kBAgCA,CACA,SACA,mCADA,EAEA,mCAFA,EAGA;AACA,mBAJA,EAKA,gBALA,EAMA;AACA,qBAPA,EAQA;AACA,sBATA,EAUA,YACA;AACA;AACA,kBACA,gBADA,EAEA,YAFA,EAHA,EAOA,SACA,gBADA,EAEA,YAFA,EAPA,EAWA,SACA,gBADA,EAEA,YAFA,EAXA,EAVA,EA0BA,eA1BA,EA2BA;AACA,yBA5BA,EA6BA,eA7BA,EA8BA,gBACA,YADA,EAEA,0BAFA,EAGA,aAHA,IAKA,EACA,YADA,EAEA,0BAFA,EAGA,aAHA,EALA,CA9BA,EAyCA;AACA,0BA1CA,EA2CA;AACA,0BA5CA,GA8CA,CA/EA,EAgFA,OAhFA,qBAgFA,CACA,qDACA,gHACA,iBADA;AAEA,KAHA;AAIA;AACA,KADA;AAEA,KAFA;AAGA;AACA,YADA;AAEA,yCAFA,GAEA,8BALA;AAMA;AACA,GA5FA;AA6FA;AACA,eADA,yBACA;AACA;AACA;AACA,KAJA,EA7FA;;AAmGA;AACA,iBADA,yBACA,GADA,EACA;AACA;AACA,KAHA;AAIA,iBAJA,yBAIA,YAJA,EAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAPA,MAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAzEA;AA0EA;AACA,eA3EA,uBA2EA,GA3EA,EA2EA;AACA;AACA;AACA,KA9EA;AA+EA,YA/EA,sBA+EA;AACA;AACA;AACA,uCADA;AAEA,2EAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,SAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjBA,MAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhDA,EAgDA,KAhDA,CAgDA;AACA;AACA,OAlDA;;AAoDA,KArIA;AAsIA,WAtIA,mBAsIA,CAtIA,EAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,EAQA,GARA;AASA;AACA,KApJA;AAqJA,qBArJA,6BAqJA,MArJA,EAqJA;AACA;AACA;AACA;AACA;AACA;AACA,KA3JA;AA4JA,sBA5JA,8BA4JA,CA5JA,EA4JA;AACA;AACA;AACA,KA/JA;AAgKA,gBAhKA,wBAgKA,CAhKA,EAgKA;AACA;AACA;AACA,KAnKA;AAoKA,oBApKA,4BAoKA,CApKA,EAoKA;AACA;AACA,KAtKA;AAuKA,iBAvKA,2BAuKA;AACA;AACA,uBADA;AAEA,oBAFA;;AAIA,KA5KA;AA6KA,eA7KA,uBA6KA,GA7KA,EA6KA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,KA9LA;AA+LA,mBA/LA,2BA+LA,KA/LA,EA+LA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,kCADA;AAEA,mCAFA;;AAIA;AACA,SAPA,MAOA;AACA;AACA,8BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;;AAEA,KAnNA,EAnGA;;AAwTA;AACA,2BADA,gCACA,GADA,EACA;AACA;AACA,KAHA;AAIA,gBAJA,sBAIA,GAJA,EAIA;AACA;AACA;AACA;AACA,KARA,EAxTA,E;;;;AAoUA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAPA,MAOA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;;;AC/cA;AAAA;AAAA;AAAA;AAAgtC,CAAgB,ilCAAG,EAAC,C;;;;;;;;;;;ACApuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/stepperCard/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=61af6519&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=61af6519&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61af6519\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/stepperCard/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=61af6519&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.setDecimalFun(_vm.SalePrice)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"sterperCard-style\">\r\n\t\t<!-- v-if=\"!isCollage&&!isCollageInfo\" -->\r\n\t\t<div>\r\n\t\t\t<text v-if=\"!newItemData.showStepper&&newItemData.StockQty>0\" class=\"icon stepperStyle fontColor\" @click=\"clickTag\">&#xe616;</text>\r\n\t\t\t<!-- 商品数量（StockQty）等于0 的时候代表售罄了 -->\r\n\t\t\t<text v-if=\"!newItemData.showStepper&&newItemData.StockQty<=0\" class=\"icon stepperStyle fontColorGray\" @click=\"clickTagEmpty\">&#xe616;</text>\r\n\t\t\t<stepper v-if=\"newItemData.showStepper\" @stepperNum=\"stepperNumChange\" :numData=\"newItemData.num\" :currentDisabled=\"disabled\"\r\n\t\t\t :disabledAll=\"disabledAll\" :maxData=\"surplusStock\"></stepper>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"goods-nav-fixed\" v-if=\"isCollage&&!isCollageInfo\">\r\n\t\t\t<uni-goods-nav :fill=\"true\" options=\"[]\" :buttonGroup=\"buttonGroup\" @buttonClick=\"buttonClick\" />\r\n\t\t</div>\r\n\r\n\t\t<slot></slot>\r\n\t\t<!-- 商品规格弹窗 -->\r\n\t\t<uni-popup :show=\"showPopup\" @change=\"onClose\" class=\"customPopup\">\r\n\t\t\t<view class=\"my-popup-style\">\r\n\t\t\t\t<view class=\"popupStyleTitle\">{{newItemData.ProdName}}\r\n\t\t\t\t\t<text class=\"closePopup\" @click=\"onClose\">×</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"popupStyleNoTitle\" v-if=\"listData.specs.normsArr.length>0\">\r\n\t\t\t\t\t\t{{listData.specs.titleNorms}}：\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<ul :class=\"['popupStyleUl','theme'+colorNum]\" v-for=\"(item,index) in listData.specs.normsArr\" :key=\"item.CombNo\">\r\n\t\t\t\t\t\t<li @click=\"tapCurrentLiSpecs(item.CombNo)\" :class=\"['popupStyleLi',item.CombNo===currentSpecs?'iscurrent':'']\">{{item.CombName}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"popupStyleNoTitle\" v-if=\"listData.flavor.normsArr.length>0\">\r\n\t\t\t\t\t\t{{listData.flavor.titleNorms}}：\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<ul :class=\"['popupStyleUl','theme'+colorNum]\" v-for=\"(item,index) in listData.flavor.normsArr\" :key=\"index\">\r\n\t\t\t\t\t\t<li @click=\"tapCurrentLiFlavor(index)\" :class=\"['popupStyleLi',item.isActive?'iscurrent':'']\">{{item.TastName}}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"popupStyleNoTitle\" v-if=\"listData.parts.normsArr.length>0\">\r\n\t\t\t\t\t\t{{listData.parts.titleNorms}}：\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<ul :class=\"['popupStyleUl','theme'+colorNum]\" v-for=\"(item,index) in listData.parts.normsArr\" :key=\"item.PartNo\">\r\n\t\t\t\t\t\t<li @click.stop=\"tapCurrentLi(index)\" :class=\"['popupStyleLi','partsLi',item.isActive?'iscurrent':'']\">\r\n\t\t\t\t\t\t\t<span class=\"partsLiMoney\">\r\n\t\t\t\t\t\t\t\t<text class=\"partsLiMoneyIcon\">¥</text>{{item.SalePrice}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span>{{item.ProdName}}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view style=\"margin-top:20px\">\r\n\t\t\t\t\t<span>商品购买数量</span>\r\n\t\t\t\t\t<div style=\"display: inline-block;float:right\">\r\n\t\t\t\t\t\t<uni-number-box :value=\"newItemData.num\" :min=\"1\" @change=\"onChangeNum\" :max=\"newItemData.StockQty\"></uni-number-box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"moneyBottom\">\r\n\t\t\t\t<view class=\"moneyBottomNum fontColor\">\r\n\t\t\t\t\t<text class=\"moneyBottomNumTip\">¥</text>\r\n\t\t\t\t\t{{setDecimalFun(SalePrice)}}\r\n\t\t\t\t\t<view class=\"recordPartsStyle\" v-if=\"newItemData.PackingFee>0\">+打包费¥{{newItemData.PackingFee}}</view>\r\n\t\t\t\t\t<view v-for=\"item in recordParts\" :key=\"item.ProdName\" class=\"recordPartsStyle\">\r\n\t\t\t\t\t\t+{{item.ProdName}}¥{{item.SalePrice}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<button v-if=\"!isCollage&&!isCollageInfo\" class=\"stepperPopup my-background-color\" :style=\"{'background': itemColor}\" @click=\"stepperChange\">加入购物车</button>\r\n\t\t\t\t\t<button v-else class=\"stepperPopup my-background-color\" :style=\"{'background': itemColor}\" open-type=\"getUserInfo\"\r\n\t\t\t\t\t @getuserinfo=\"bindgetuserinfo\">下\r\n\t\t\t\t\t\t单</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport APIList from '@/api/http.js';\r\n\timport uniPopup from \"@/components_uni/uni-popup/uni-popup.vue\"\r\n\timport stepper from \"@/components/stepper-my/index.vue\"\r\n\tvar utils = require('@/utils/utils.js')\r\n\tconst app = getApp()\r\n\timport uniGoodsNav from '@/components_uni/uni-goods-nav/uni-goods-nav.vue'\r\n\timport uniNumberBox from \"@/components_uni/uni-number-box/uni-number-box.vue\"\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tstepper,\r\n\t\t\tuniGoodsNav,\r\n\t\t\tuniNumberBox\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// 当前商品信息\r\n\t\t\titemData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tvalue: {}\r\n\t\t\t},\r\n\t\t\tisShowCode: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tvalue: false\r\n\t\t\t},\r\n\t\t\tisCollage: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tvalue: false\r\n\t\t\t},\r\n\t\t\t// 控制拼团提交，true允许\r\n\t\t\tcontrolBuy: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tvalue: true\r\n\t\t\t},\r\n\t\t\t// 拼团详情进来的\r\n\t\t\tisCollageInfo: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tvalue: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcolorNum: app.globalData.colorIndex,\r\n\t\t\t\titemColor: app.globalData.itemColor,\r\n\t\t\t\t// 总金额\r\n\t\t\t\tSalePrice: '',\r\n\t\t\t\tshowPopup: false,\r\n\t\t\t\t// 记录选择的配件\r\n\t\t\t\trecordParts: [],\r\n\t\t\t\t// 记录选择的口味\r\n\t\t\t\trecordFlavor: [],\r\n\t\t\t\tlistData: {\r\n\t\t\t\t\t// title: '名称标题',\r\n\t\t\t\t\t// price: '50',\r\n\t\t\t\t\tflavor: {\r\n\t\t\t\t\t\ttitleNorms: '口味',\r\n\t\t\t\t\t\tnormsArr: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparts: {\r\n\t\t\t\t\t\ttitleNorms: '配件',\r\n\t\t\t\t\t\tnormsArr: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tspecs: {\r\n\t\t\t\t\t\ttitleNorms: '规格',\r\n\t\t\t\t\t\tnormsArr: []\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcurrentSpecs: 0,\r\n\t\t\t\t// 商品规格\r\n\t\t\t\tcurrentSpecsObj: {},\r\n\t\t\t\tsurplusStock: 0,\r\n\t\t\t\tbuttonGroup: [{\r\n\t\t\t\t\t\ttext: '单独购买',\r\n\t\t\t\t\t\tbackgroundColor: '#fe8953',\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '我要开团',\r\n\t\t\t\t\t\tbackgroundColor: '#ff4343',\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 原价购买（拼团使用）\r\n\t\t\t\toriginalPrice: false,\r\n\t\t\t\t// newItemData: {},\r\n\t\t\t\tuserInfo_empower: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet a = Number(this.itemData.EveryOneMaxBuyCount) -\r\n\t\t\t\t(this.itemData.hasOwnProperty('ActiveOwnBuyCount') && this.itemData.ActiveOwnBuyCount > 0 ? Number(this.itemData\r\n\t\t\t\t\t\t.ActiveOwnBuyCount) :\r\n\t\t\t\t\t0)\r\n\t\t\tthis.surplusStock = (this.itemData.hasOwnProperty('EveryOneMaxBuyCount') && this.itemData.EveryOneMaxBuyCount >\r\n\t\t\t\t\t0) ?\r\n\t\t\t\ta :\r\n\t\t\t\t(this.itemData.hasOwnProperty('ActiveSaleCount') && this.itemData.ActiveSaleCount > 0 ? Number(this.itemData\r\n\t\t\t\t\t\t.StockQty) -\r\n\t\t\t\t\tNumber(this.itemData.ActiveSaleCount) : Number(this.itemData.StockQty))\r\n\t\t\tthis.newItemData.num = 1\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnewItemData(){\r\n\t\t\t\t// console.log(this.itemData,8888889)\r\n\t\t\t\treturn this.itemData\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsetDecimalFun(val) {\r\n\t\t\t\treturn utils.setDecimal(val)\r\n\t\t\t},\r\n\t\t\tstepperChange(stepperParam) {\r\n\t\t\t\tconsole.log(stepperParam,'what')\r\n\t\t\t\t// console.log(this.recordFlavor, 2222)\r\n\t\t\t\t// console.log(this.recordParts, 1111)\r\n\r\n\t\t\t\t// 获取规格名称数组\r\n\t\t\t\tvar PartsAllSale = 0\r\n\t\t\t\t// 配件的id组合\r\n\t\t\t\tvar ProdParts = []\r\n\t\t\t\tthis.recordParts.forEach(D => {\r\n\t\t\t\t\t// 配件的总价格\r\n\t\t\t\t\tPartsAllSale += Number(D.SalePrice)\r\n\t\t\t\t\tProdParts.push(D.ProdNo)\r\n\t\t\t\t})\r\n\t\t\t\tProdParts = ProdParts.join(',')\r\n\t\t\t\tvar arr = {}\r\n\t\t\t\t// 给行数据加 选中的口味(配件加购物车里面)\r\n\t\t\t\tvar flavorArr = []\r\n\t\t\t\tfor (var i = 0; i < this.recordFlavor.length; i++) {\r\n\t\t\t\t\tvar DItem = this.recordFlavor[i]\r\n\t\t\t\t\tflavorArr.push(DItem.TastName)\r\n\t\t\t\t}\r\n\t\t\t\t// 口味数组 合并 规格数组\r\n\t\t\t\tlet newItemData = JSON.parse(JSON.stringify(this.newItemData))\r\n\r\n\t\t\t\tnewItemData.recordFlavor = flavorArr\r\n\t\t\t\t// 改变数量\r\n\t\t\t\tnewItemData.num = stepperParam && !(stepperParam instanceof Object) ? stepperParam : newItemData.num\r\n\r\n\t\t\t\tarr.itemData = newItemData\r\n\t\t\t\tarr.itemData.prodType = 1\r\n\t\t\t\tarr.recordParts = this.recordParts\r\n\t\t\t\tarr.itemData.prodPartsInfo = this.recordParts\r\n\t\t\t\tarr.itemData.ProdParts = ProdParts\r\n\r\n\t\t\t\tif (arr.itemData.ActiveSalePrice) {\r\n\t\t\t\t\t//活动价格\r\n\t\t\t\t\tarr.itemData.SalePrice = arr.itemData.ActiveSalePrice\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < this.recordParts.length; i++) {\r\n\t\t\t\t\tthis.recordParts[i].num = newItemData.num\r\n\t\t\t\t}\r\n\t\t\t\tif (JSON.stringify(this.currentSpecsObj) != \"{}\") {\r\n\t\t\t\t\t// 选择了规格\r\n\t\t\t\t\tarr.itemData.ProdName = this.currentSpecsObj.CombName\r\n\t\t\t\t\tarr.itemData.StockQty = this.currentSpecsObj.StockQty\r\n\t\t\t\t\tarr.itemData.CombNo = this.currentSpecsObj.CombNo\r\n\r\n\t\t\t\t\tarr.itemData.SalePrice = Number(this.currentSpecsObj.CombPrice) + PartsAllSale\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarr.itemData.SalePrice = Number(arr.itemData.SalePrice) + PartsAllSale\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar bool = utils.setStock(arr)\r\n\t\t\t\tif (!bool) {\r\n\t\t\t\t\t//设置单商品 库存不足，不让点击\r\n\t\t\t\t\tthis.disabled = true\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.showPopup = false\r\n\t\t\t\tthis.$emit('mycurrentPage', arr, this.originalPrice, this.userInfo_empower)\r\n\r\n\t\t\t\tthis.currentIndexParts = null\r\n\t\t\t\tthis.currentIndexFlavor = null\r\n\t\t\t\tthis.currentSpecs = null\r\n\t\t\t\tthis.recordFlavor = []\r\n\t\t\t\tthis.recordParts = []\r\n\t\t\t\tthis.currentSpecsObj = {}\r\n\t\t\t},\r\n\t\t\t// 商品弹出窗中商品购买数量点击事件\r\n\t\t\tonChangeNum(val) {\r\n\t\t\t\tconsole.log(val,'商品弹出窗中商品购买数量点击事件')\r\n\t\t\t\tthis.newItemData.num = val\r\n\t\t\t},\r\n\t\t\tclickTag() {\r\n\t\t\t\t// 点击的购物车按钮  商品分为单规格和多规格\r\n\t\t\t\tAPIList.api('ProdPartsOrTast.aspx', {\r\n\t\t\t\t\tProdNo: this.newItemData.ProdNo,\r\n\t\t\t\t\tActiveID: this.originalPrice ? '' : (this.newItemData.ActiveID || '')\r\n\t\t\t\t}).then(D => {\r\n\t\t\t\t\tdebugger\r\n\t\t\t\t\tlet Parts = D.ProdPartsInfo\r\n\t\t\t\t\tlet Tast = D.ProdTastInfo\r\n\t\t\t\t\tlet Specs = D.ProdCombInfo\r\n\t\t\t\t\tthis.listData.parts.normsArr = Parts\r\n\t\t\t\t\tthis.listData.flavor.normsArr = Tast\r\n\t\t\t\t\tthis.listData.specs.normsArr = Specs\r\n\r\n\t\t\t\t\tthis.listData.specs.normsArr.splice()\r\n\t\t\t\t\tTast.forEach((D, i) => {\r\n\t\t\t\t\t\tD.id = i\r\n\t\t\t\t\t})\r\n\t\t\t\t\tParts.forEach((D, i) => {\r\n\t\t\t\t\t\t// 配件带 2 ，区分商品\r\n\t\t\t\t\t\tD.prodType = 2\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (Parts.length > 0 || Tast.length > 0 || Specs.length > 0) {\r\n\t\t\t\t\t\t// 判断为是多选\r\n\t\t\t\t\t\tthis.showPopup = true\r\n\t\t\t\t\t\tfor (var i = 0; i < Tast.length; i++) {\r\n\t\t\t\t\t\t\tTast[i].isActive = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var i = 0; i < Parts.length; i++) {\r\n\t\t\t\t\t\t\tParts[i].isActive = false\r\n\t\t\t\t\t\t\tParts[i].num = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (Specs.length > 0) {\r\n\t\t\t\t\t\t\tthis.currentSpecs = Specs[0].CombNo\r\n\t\t\t\t\t\t\tthis.currentSpecsObj = Specs[0]\r\n\t\t\t\t\t\t\tthis.SalePrice = Specs[0].CombPrice\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.listData = this.listData\r\n\t\t\t\t\t\t// this.data.newItemData.showStepper = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (!this.isCollage) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 直接加入购物车\r\n\t\t\t\t\t\t\tthis.$emit('setShowStepper', true)\r\n\t\t\t\t\t\t\t// this.newItemData.showStepper = true\r\n\t\t\t\t\t\t\tthis.data.newItemData.showStepper = true\r\n\t\t\t\t\t\t\tthis.stepperChange()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\tconsole.log(e, 'error')\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tonClose(e) {\r\n\t\t\t\tif (!e.show) {\r\n\t\t\t\t\tthis.showPopup = false\r\n\t\t\t\t\tvar _this = this\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.currentIndexParts = null\r\n\t\t\t\t\t\t_this.currentIndexFlavor = null\r\n\t\t\t\t\t\t_this.recordFlavor = []\r\n\t\t\t\t\t\t_this.recordParts = []\r\n\t\t\t\t\t\t_this.currentSpecs = null\r\n\t\t\t\t\t\t_this.currentSpecsObj = {}\r\n\t\t\t\t\t\t_this.SalePrice = ''\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttapCurrentLiSpecs(CombNo) {\r\n\t\t\t\tconsole.log(CombNo,'zhe')\r\n\t\t\t\tthis.currentSpecs = CombNo\r\n\t\t\t\tlet arr = this.listData.specs.normsArr.filter(D => D.CombNo === CombNo)\r\n\t\t\t\tthis.currentSpecsObj = arr[0]\r\n\t\t\t\tthis.SalePrice = this.currentSpecsObj.CombPrice\r\n\t\t\t},\r\n\t\t\ttapCurrentLiFlavor(e) {\r\n\t\t\t\t// 口味\r\n\t\t\t\tgetDataArrr(this, 'flavor', 'recordFlavor', e)\r\n\t\t\t},\r\n\t\t\ttapCurrentLi(e) {\r\n\t\t\t\t// 规格\r\n\t\t\t\tgetDataArrr(this, 'parts', 'recordParts', e)\r\n\t\t\t},\r\n\t\t\tstepperNumChange(e) {\r\n\t\t\t\tthis.stepperChange(e)\r\n\t\t\t},\r\n\t\t\tclickTagEmpty() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '该商品已售罄',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbuttonClick(val) {\r\n\t\t\t\tif (val.index === 0) {\r\n\t\t\t\t\t//单独购买\r\n\t\t\t\t\tthis.originalPrice = true\r\n\t\t\t\t\tthis.clickTag()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 我要开团\r\n\t\t\t\t\tif(!this.controlBuy){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '无法开团',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.originalPrice = false\r\n\t\t\t\t\tthis.clickTag()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindgetuserinfo(event) {\r\n\t\t\t\tif (this.originalPrice) {\r\n\t\t\t\t\tthis.stepperChange()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (event.detail.errMsg === 'getUserInfo:ok') {\r\n\t\t\t\t\t\tlet obj = JSON.parse(event.detail.rawData)\r\n\t\t\t\t\t\tthis.userInfo_empower = {\r\n\t\t\t\t\t\t\tNickName: obj.nickName,\r\n\t\t\t\t\t\t\tHeardImg: obj.avatarUrl\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.stepperChange()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '未授权无法购买哦！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'newItemData.SalePrice'(val) {\r\n\t\t\t\tthis.SalePrice = this.newItemData.SalePrice\r\n\t\t\t},\r\n\t\t\t'isShowCode'(val) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tthis.clickTag()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getDataArrr(_this, type, recordType, e) {\r\n\t\t// 获取当前总数据的 被点击的当前列\r\n\t\tvar value = _this.listData[type].normsArr[e]\r\n\r\n\t\t// 获取存选中数据的data\r\n\t\tvar flavorArr = _this[recordType]\r\n\r\n\t\tvar _id = ''\r\n\t\tif (type === 'parts') {\r\n\t\t\t_id = 'ProdNo'\r\n\t\t} else {\r\n\t\t\t_id = 'id'\r\n\t\t}\r\n\r\n\t\t// 改变取反\r\n\t\tvalue.isActive = !value.isActive\r\n\t\t_this.listData = _this.listData\r\n\r\n\t\tif (value.isActive) {\r\n\t\t\tflavorArr.push(value)\r\n\t\t} else if (flavorArr.length > 0) {\r\n\t\t\tfor (var i = 0; i < flavorArr.length; i++) {\r\n\t\t\t\tvar d = flavorArr[i]\r\n\t\t\t\tif (value[_id] === d[_id]) {\r\n\t\t\t\t\tflavorArr.splice(i, 1)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction compare(type) {\r\n\t\t\tlet property = null\r\n\t\t\tif (type === 'parts') {\r\n\t\t\t\tproperty = 'ProdNo'\r\n\t\t\t\treturn function(a, b) {\r\n\t\t\t\t\tvar value1 = a[property];\r\n\t\t\t\t\tvar value2 = b[property];\r\n\t\t\t\t\treturn value1 - value2;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tproperty = 'TastName'\r\n\t\t\t\treturn function(a, b) {\r\n\t\t\t\t\treturn a[property].localeCompare(b[property], 'zh-CN')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 目前是以 id属性排序 ProdNo\r\n\t\tflavorArr = flavorArr.sort(compare(type))\r\n\r\n\t\t_this.currentIndexFlavor = e\r\n\t\t_this[recordType] = flavorArr\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.sterperCard-style {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\r\n\t\t.goods-nav-fixed {\r\n\t\t\tposition: fixed;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 50px;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t/deep/.uni-tab__cart-sub-left {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t/deep/.uni-tab__right {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.fontColor {\r\n\t\tcolor: #D82F37;\r\n\t}\r\n\r\n\t.stepperStyle {\r\n\t\tfont-size: 20pt;\r\n\t}\r\n\r\n\t.customPopup {\r\n\t\twidth: 88%;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.my-popup-style {\r\n\t\tpadding: 15px;\r\n\t\tbackground: #fff;\r\n\t\tmax-height: 300px;\r\n\t\toverflow: scroll;\r\n\t}\r\n\r\n\t.popupStyleTitle {\r\n\t\ttext-align: center;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tmargin: 5px 25px;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.closePopup {\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\tright: 22px;\r\n\t\tfont-size: 22px;\r\n\t\tcolor: #707070;\r\n\t}\r\n\r\n\t.popupStyleNoTitle {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.popupStyleUl {\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.popupStyleLi {\r\n\t\tpadding: 4px 14px;\r\n\t\tdisplay: inline-block;\r\n\t\tborder: 1px solid rgb(221, 219, 219);\r\n\t\tmargin: 10px 10px 0 0;\r\n\t}\r\n\r\n\t.popupStyleNoTitle {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.popupStyleUl {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.popupStyleLi {\r\n\t\tpadding: 4px 14px;\r\n\t\tdisplay: inline-block;\r\n\t\tborder: 1px solid rgb(221, 219, 219);\r\n\t\tmargin: 10px 10px 0 0;\r\n\t}\r\n\r\n\t.partsLi {\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\r\n\t.partsLiMoney {\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.partsLiMoneyIcon {\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.moneyBottom {\r\n\t\tbackground: #eee;\r\n\t\tpadding: 15px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.moneyBottomNum {\r\n\t\t/* color:#f44; */\r\n\t\tfont-size: 18px;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\tmargin-right: 90px;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.moneyBottomNumTip {\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 12px;\r\n\t\tmargin-right: 4px;\r\n\t}\r\n\r\n\t.recordPartsStyle {\r\n\t\tcolor: #707070;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 12px;\r\n\r\n\t}\r\n\r\n\t.stepperPopup {\r\n\t\tposition: absolute;\r\n\t\tright: 15px;\r\n\t\ttop: 12px;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 12px;\r\n\t\tborder-radius: 15px;\r\n\t\tcolor: #fff;\r\n\t\tline-height: 30px;\r\n\t\theight: 30px;\r\n\t\tpadding: 0px 13px;\r\n\t}\r\n\r\n\t.fontColorGray {\r\n\t\tcolor: #707070;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=61af6519&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=61af6519&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600324447169\n      var cssReload = require(\"D:/下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}