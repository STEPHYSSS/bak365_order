{"version":3,"sources":["uni-app:///main.js","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?d95f","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?c16e","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?8df0","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?f531","uni-app:///pages/indexCanteen/paymentOrder/index.vue","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?b83a","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/paymentOrder/index.vue?2f01"],"names":["createPage","Page"],"mappings":"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AJA,MAIA,yBACA,gCACA,+CACA,CACA,CAJA,MAIA,CACA,8BACA,6CACA,CACA,CACA,4EAEA,mCACA,iCACA,iEACA,CACA,2CACA,2BACA,oBACA,yDACA,oDACA,YACA;AACA;AACA,+CAHA,CAIA;AACA,+BACA,mCADA,EAEA,qCAFA,GAIA,iDACA,CApDA,CAsDA;AACA,sDACA,YACA,6EACA,+EADA,CAEA,yDACA,CAEA,yBACA,CA5EA,EA4EA,KA5EA,CA4EA,cACA,qBACA,CA9EA,EA+EA,CAtGA,EAuGA,UAvGA,wBAuGA,CACA,+CACA,yCACA,0CAHA,CAKA;AACA;AACA;AACA,wDAEA,wBACA,2GACA,2BACA,UADA,EAEA,WAFA,IAIA,CACA,2GACA,2BACA,UADA,EAEA,WAFA,IAIA,CACA,2GACA,2BACA,UADA,EAEA,WAFA,IAIA,CACA,qBACA,CACA,CAtIA,EAuIA,aAvIA,2BAuIA;AACA;AACA;AACA,6BADA;AAEA,iCAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OAdA,EAcA,KAdA,CAcA;AACA;AACA,OAhBA;AAiBA,KA1JA;AA2JA,iBA3JA,yBA2JA,GA3JA,EA2JA;AACA;AACA;AACA;AACA;AACA,KAhKA;AAiKA,YAjKA,oBAiKA,IAjKA,EAiKA;AACA;AACA;;AAEA;AACA,2CADA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAlLA;AAmLA,aAnLA,uBAmLA;AACA;AACA;AACA,gCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA;AAOA,OARA,MAQA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAvOA;AAwOA,oBAxOA,8BAwOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCADA;AAEA;AACA;AACA,aAJA;AAKA;AACA;AACA;AACA,eAFA,EAEA,IAFA;AAGA,aATA;;AAWA,SAfA,MAeA;AACA;AACA;AACA,OAnBA,CAmBA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AACA,KAlQA;AAmQA,iBAnQA,2BAmQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DADA;;AAGA,OANA,MAMA;AACA;AACA;AACA,qCADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA,SANA,EAMA,KANA,CAMA;AACA;AACA;AACA,SATA;AAUA;AACA,KAzRA;AA0RA,kBA1RA,4BA0RA;AACA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,mBADA;;AAGA;AACA;AACA;AACA,0BADA;AAEA,kCAFA;AAGA,0CAHA;AAIA;AACA,kBADA,GACA,qCADA,KACA,EALA;AAMA,4CANA;AAOA,0CAPA;AAQA,+CARA;AASA,iDATA;AAUA,+FAVA;AAWA,mFAXA;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAnCA,CAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,EAMA,KANA,CAMA;AACA;AACA,oBADA;AAEA,wBAFA;;AAIA;AACA;AACA,SAbA;AAcA,OAlDA;AAmDA,KA9UA;AA+UA,kBA/UA,4BA+UA;AACA;AACA,0DADA;;AAGA,KAnVA;AAoVA,cApVA,sBAoVA,CApVA,EAoVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3VA;AA4VA,eA5VA,uBA4VA,GA5VA,EA4VA;AACA;AACA;AACA;AACA,iBADA;;AAGA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,UAHA,EAGA,IAHA,EAGA,MAHA,EAGA,IAHA,CAGA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA,SALA;AAMA;AACA;AACA;AACA,OAdA,EAcA,KAdA,CAcA,eAdA;AAeA,KAlXA;AAmXA,gBAnXA,wBAmXA,CAnXA,EAmXA;AACA;AACA,KArXA;AAsXA,gBAtXA,0BAsXA;AACA;AACA;AACA;AACA;AACA,KA3XA;AA4XA,iBA5XA,yBA4XA,IA5XA,EA4XA;AACA;AACA;AACA;AACA,KAhYA;AAiYA,eAjYA,uBAiYA,IAjYA,EAiYA;AACA;AACA;AACA;AACA,KArYA;AAsYA,aAtYA,qBAsYA,KAtYA,EAsYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/YA;AAgZA,iBAhZA,yBAgZA,CAhZA,EAgZA;AACA;AACA;AACA;AACA,4DAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhaA;AAiaA,mBAjaA,6BAiaA,EAjaA;AAkaA,gBAlaA,wBAkaA,OAlaA,EAkaA;AACA;AACA;AACA;AACA,iBADA;;AAGA;AACA;AACA,wBADA;AAEA,uBAFA;;;AAKA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA,EAkBA,KAlBA,CAkBA;AACA;AACA,OApBA;AAqBA,KAncA;AAocA,eApcA,uBAocA,IApcA,EAocA;AACA;AACA;AACA;AACA,KAxcA;AAycA,YAzcA,oBAycA,GAzcA,EAycA;AACA;AACA;AACA;AACA,KA7cA;AA8cA,aA9cA,qBA8cA,CA9cA,EA8cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAJA,MAIA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA;;AAEA,OAZA,MAYA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA,KA1eA;AA2eA,iBA3eA,yBA2eA,GA3eA,EA2eA;AACA;AACA;AACA;AACA,yDADA;AAEA,oEAFA;AAGA,mCAHA;;AAKA;AACA,KApfA;AAqfA,oBArfA,8BAqfA;;AAEA,KAvfA;AAwfA,aAxfA,uBAwfA;AACA;AACA,mDADA;;AAGA,KA5fA;AA6fA,cA7fA,wBA6fA;AACA;AACA,8DADA;;AAGA,KAjgBA;AAkgBA,eAlgBA,uBAkgBA,GAlgBA,EAkgBA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA,SARA;AASA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA,KAvhBA;AAwhBA,kBAxhBA,4BAwhBA;AACA;AACA,KA1hBA,EApFA;;AAgnBA,QAhnBA,kBAgnBA,MAhnBA,EAgnBA;AACA;AACA;AACA;AACA,GApnBA;AAqnBA;AACA;AACA;AACA;AACA,wCADA;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KALA,MAKA;AACA;AACA;AACA;AACA,GA/pBA;AAgqBA,WAhqBA,E;;;AAmqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;;;;;;;;;;;;AC35BA;AAAA;AAAA;AAAA;AAAmtC,CAAgB,yjCAAG,EAAC,C;;;;;;;;;;;ACAvuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/indexCanteen/paymentOrder/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/indexCanteen/paymentOrder/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=2fa8cf0e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/indexCanteen/paymentOrder/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=2fa8cf0e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.setDecimalFun(_vm.orderObj.OrderProdAmt)\n  var m1 = _vm.setDecimalFun(_vm.orderObj.OrderPackingFeeAmt)\n  var m2 = _vm.setDecimalFun(_vm.currentArea.Freight)\n  var m3 = _vm.setDecimalFun(_vm.isChangeCoupon)\n  var m4 = _vm.setAllMoney(_vm.allMoney)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 确定订单页 -->\r\n\t<div>\r\n\t\t<view class=\"payment-style\" v-if=\"arrayList.length>0\">\r\n\t\t\t<view class=\"offeredTop\" v-if=\"isCollage\">\r\n\t\t\t\t<div class=\"offeredTopDiv\">\r\n\t\t\t\t\t<div class=\"offeredTopImg\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/collage-kaituan.png\" mode=\"\"></image>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>1.选择商品开团/参团</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<uni-icons type=\"arrowright\" size=\"15\" class=\"offeredTopIcon\"></uni-icons>\r\n\t\t\t\t<div class=\"offeredTopDiv\">\r\n\t\t\t\t\t<div class=\"offeredTopImg\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/collage-haoyou.png\" mode=\"\"></image>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>2.邀请好友参团</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<uni-icons type=\"arrowright\" size=\"15\" class=\"offeredTopIcon\"></uni-icons>\r\n\t\t\t\t<div class=\"offeredTopDiv\">\r\n\t\t\t\t\t<div class=\"offeredTopImg\">\r\n\t\t\t\t\t\t<image src=\"/static/images/icon/collage-chengg.png\" mode=\"\"></image>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>3.人满成团</span>\r\n\t\t\t\t</div>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"orderTable\">\r\n\t\t\t\t<view class=\"orderTableShop\">\r\n\t\t\t\t\t<text class=\"icon iconshop\" style=\"margin-right:6px\">&#xe682;</text>{{orderObj.ShopInfo.ShopName}}\r\n\t\t\t\t\t<text class=\"tableNumberStyle\" v-if=\"tableNumber\">(座位号:{{tableNumber}})</text>\r\n\t\t\t\t\t<view class=\"orderTableShopRight\" v-if=\"orderObj.ShopInfo.ShopTel\">\r\n\t\t\t\t\t\t<text class=\"icon iconShopPhone\" @click=\"ShopPhone\">&#xe633;</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<view class=\"setPack my-default-btn\">\r\n\t\t\t\t\t<view class=\"setPackArea\" @click=\"changeArea\" v-if=\"currentIndexMode == 2\">\r\n\t\t\t\t\t\t<view style=\"margin-bottom:4px;font-weight: 700;\">配送信息</view>\r\n\t\t\t\t\t\t<view v-if=\"currentArea.AddressNo\">\r\n\t\t\t\t\t\t\t<view class=\"setPackAreaLocation\">\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" style=\"margin-right:4px\">&#xe64f;</text><text>{{currentArea.Address}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" style=\"margin-right:4px\">&#xe633;</text><text>{{currentArea.Mobile}} &nbsp;{{currentArea.Name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t<text>请选择收货地址</text>\r\n\t\t\t\t\t\t\t<text class=\"icon\">&#xe670;</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"setPackButton\">\r\n\t\t\t\t\t\t<button @click=\"setPackFun\" :style=\"{'color':colorItem,'borderColor':colorItem}\">\r\n\t\t\t\t\t\t\t{{modeVal}}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<goods-box v-for=\"(item,index) in arrayList\" :itemData=\"item\" :key=\"index\" :isOrder=\"true\" @clickGoodsBox=\"clickGoodsBox\"></goods-box>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"arrayList.length>0&&isSubscribe==='1'\">\r\n\t\t\t\t<change-about :onlySubscribe=\"orderObj.OrderProdType\" @changeMode=\"changeMode\" :aboutTime=\"aboutTime.propsAboutTime\"></change-about>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"summary\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"summaryMoney\">商品总金额</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">¥{{setDecimalFun(orderObj.OrderProdAmt)}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"orderObj.OrderPackingFeeAmt>0\">\r\n\t\t\t\t\t<view class=\"summaryMoney\">打包费</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">+¥{{setDecimalFun(orderObj.OrderPackingFeeAmt)}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"currentArea.Freight>0\">\r\n\t\t\t\t\t<view class=\"summaryMoney\">配送费</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">+¥{{setDecimalFun(currentArea.Freight)}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"orderObj.PrefInfo.WxFavorAmt&&orderObj.PrefInfo.WxFavorAmt>0&& radio == 2\">\r\n\t\t\t\t\t<!-- 微信支付优惠方案 -->\r\n\t\t\t\t\t<view class=\"summaryMoney\">优惠方案</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">-¥{{orderObj.PrefInfo.WxFavorAmt}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"orderObj.PrefInfo.AlipayFavorAmt&&orderObj.PrefInfo.AlipayFavorAmt>0&& radio == 3\">\r\n\t\t\t\t\t<!-- 支付宝支付优惠方案 -->\r\n\t\t\t\t\t<view class=\"summaryMoney\">优惠方案</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">-¥{{orderObj.PrefInfo.AlipayFavorAmt}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"orderObj.PrefInfo.CardFavorAmt > 0 && radio == 1\">\r\n\t\t\t\t\t<!-- 卡支付优惠方案 -->\r\n\t\t\t\t\t<view class=\"summaryMoney\">优惠方案</view>\r\n\t\t\t\t\t<view class=\"summaryNum\">-¥{{orderObj.PrefInfo.CardFavorAmt}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @click=\"changeCoupon\" v-if=\"orderObj.PayInfo.WX_TicketPay>0\">\r\n\t\t\t\t\t<view class=\"summaryMoney\">优惠券</view>\r\n\t\t\t\t\t<view class=\"summaryNumClick\">\r\n\t\t\t\t\t\t<view style=\"display: inline-block;\">\r\n\t\t\t\t\t\t\t<text v-if=\"isChangeCoupon===false&&!isChangeCouponBool\">{{dataList.length>0?'暂不使用券':'暂无券使用'}}</text>\r\n\t\t\t\t\t\t\t<text style=\"color:#d82f37\" v-else>-¥{{isChangeCoupon===false?0:setDecimalFun(isChangeCoupon)}}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<text style=\"font-size:15px\" class=\"icon\">&#xe670;</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"RemarksFa\">\r\n\t\t\t\t\t<text class=\"Remarks\">备注留言：</text>\r\n\t\t\t\t\t<input placeholder=\"请注明\" class=\"inputRemarks\" @input=\"bindKeyInput\"></input>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"orderBottom\" v-if=\"arrayList.length>0\">\r\n\t\t\t\t<radio-group :value=\"radio\" style=\"width:100%\">\r\n\t\t\t\t\t<view class=\"value-class\" v-if=\"orderObj.PayInfo.WX_CardPay !== '1'&&orderObj.PayInfo.WX_NotCardPay!=='1'\">\r\n\t\t\t\t\t\t<view class=\"my-default-btn no-payCard-style\">\r\n\t\t\t\t\t\t\t<button class=\"custom-class-button\" @click=\"routerBindCard\">添加会员卡</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text style=\"font-size: 10pt;float: right;color:#777;line-height: 26px;\">添加会员卡，可用钱包余额</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"orderObj.PayInfo.WX_CardPay === '1'&&orderObj.PayInfo.WX_NotCardPay!=='1'\" class=\"value-class\" @click=\"onChange(1)\">\r\n\t\t\t\t\t\t<image class=\"wechat\" src=\"../../../static/images/icon/moneyPay.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text style=\"vertical-align: middle;\">会员钱包支付（余额:{{orderObj.PayInfo.WX_CardBalance}}）</text>\r\n\t\t\t\t\t\t<radio class=\"summaryNum\" v-if=\"orderObj.PayInfo.WX_CardBalance>0&&orderObj.PayInfo.WX_CardBalance>allMoney\"\r\n\t\t\t\t\t\t :value=\"1\" :checked=\"radio === 1\" />\r\n\t\t\t\t\t\t<view class=\"summaryNum\" style=\"color:#777\" v-else>余额不足</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"orderObj.PayInfo.WX_WxPay === '1'\" class=\"value-class\" @click=\"onChange(2)\">\r\n\t\t\t\t\t\t<image class=\"wechat\" src=\"../../../static/images/icon/weixinPay.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text style=\"vertical-align: middle;\">微信支付</text>\r\n\t\t\t\t\t\t<radio name=\"2\" class=\"summaryNum\" :value=\"2\" :checked=\"radio === 2\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"orderObj.PayInfo.WX_AlipayPay === '1'\" class=\"value-class\" @click=\"onChange(3)\">\r\n\t\t\t\t\t\t<image class=\"wechat\" src=\"../../../static/images/icon/zfbPay.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text style=\"vertical-align: middle;\">支付宝支付</text>\r\n\t\t\t\t\t\t<radio :value=\"3\" class=\"summaryNum\" :checked=\"radio === 3\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</radio-group>\r\n\r\n\t\t\t\t<bottom-submit v-if=\"!showCalendar\" :allMoney=\"setAllMoney(allMoney)\" :addNum=\"addNum\" :cartLists=\"arrayList\"\r\n\t\t\t\t @clickClear=\"clickClear\" :isOrder=\"true\" @determine=\"determine\" :MinAmountNew=\"currentIndexMode\"></bottom-submit>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"popupFa\">\r\n\t\t\t\t<uni-popup :show=\"showCoupon\" type=\"bottom\" @change=\"onCloseCoupon\" style=\"max-height: 90%\" class=\"couponPopup\">\r\n\t\t\t\t\t<coupon-box v-if=\"dataList.length>0\" :dataList=\"dataList\" :isOrder=\"true\" :activeUser=\"0\" @onClickCoupon=\"onClickCoupon\"\r\n\t\t\t\t\t @viewMore=\"viewMore\" :currentId=\"currentId\"></coupon-box>\r\n\t\t\t\t\t<no-data v-if=\"dataList.length===0\"></no-data>\r\n\r\n\t\t\t\t\t<view class=\"takeout-page\" v-if=\"dataList.length>0\">\r\n\t\t\t\t\t\t<view class=\"takeout-page-left\">\r\n\t\t\t\t\t\t\t<button @click=\"clickPage(1)\" class=\"custom-class-left\" :disabled=\"disabledBtn\">\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" style=\"vertical-align:middle;\">&#xe61b;</text>上一页\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"page-number\">\r\n\t\t\t\t\t\t\t{{pageIndex}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"takeout-page-right\">\r\n\t\t\t\t\t\t\t<button class=\"custom-class-right\" @click=\"clickPage(2)\" :disabled=\"disabledBtn\">\r\n\t\t\t\t\t\t\t\t下一页\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" style=\"margin-left:2px\">&#xe670;</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-popup>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"popupChil\">\r\n\t\t\t\t<uni-popup :show=\"showInfo\" @change=\"onCloseInfo\">\r\n\t\t\t\t\t<view class=\"showInfo-style\">\r\n\t\t\t\t\t\t<view class=\"show-head-style\">详细信息</view>\r\n\t\t\t\t\t\t<view class=\"show-center-style\">\r\n\t\t\t\t\t\t\t<text>{{currentShowStr}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view :class=\"'btnMy'+colorIndex\">\r\n\t\t\t\t\t\t\t<button @click=\"onCloseInfo({show:false})\">\r\n\t\t\t\t\t\t\t\t我知道了\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-popup>\r\n\t\t\t</view>\r\n\r\n\t\t\t<uni-popup :show=\"showMode\" type=\"bottom\" @change=\"onCloseMode\" class=\"couponPopup\">\r\n\t\t\t\t<view class=\"modeShowStyle\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in FinTimeInfoTwo\" :key=\"index\" class=\"modeShowBox\" @click=\"clickMode(index)\">\r\n\t\t\t\t\t\t<view :style=\"{color:currentIndexMode === index?colorItem:''}\">{{item.label}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t\t<div class=\"calendar-style\" v-if=\"showCalendar\">\r\n\t\t\t\t<un-calendar :start-date=\"currentDate\" :date=\"calendarDate\" @change=\"confirmDate\"></un-calendar>\r\n\t\t\t\t<div class=\"calendar-revert-style\" @click=\"calendarRevert\">返回</div>\r\n\t\t\t\t<mpvue-picker :themeColor=\"colorItem\" ref=\"mpvuePicker\" mode=\"selector\" @onConfirm=\"onConfirmTime\"\r\n\t\t\t\t :pickerValueArray=\"pickerValueArray\"></mpvue-picker>\r\n\t\t\t</div>\r\n\t\t\t<btn-service v-if=\"!showCalendar\" :WXSmallProgramKf=\"orderObj.WX_SmallProgramKf\" :provider=\"provider\" messageTitle=\"确认订单\"\r\n\t\t\t messagePath=\"''\"></btn-service>\r\n\t\t</view>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport APIList from '@/api/http.js';\r\n\timport goodsBox from '@/components/goodsBox/index.vue'\r\n\timport modeChange from '@/components/modeChange/index.vue'\r\n\timport bottomSubmit from '@/components/bottomSubmit/index.vue'\r\n\timport uniPopup from '@/components_uni/uni-popup/uni-popup.vue'\r\n\timport noData from '@/components/nodeData/index.vue'\r\n\timport couponBox from '@/components/couponBox/index.vue'\r\n\timport changeAbout from '@/components/modeChange/appointment.vue'\r\n\timport mpvuePicker from '@/components_uni/mpvue-picker/mpvuePicker.vue'\r\n\timport unCalendar from '@/components_uni/uni-calendar/uni-calendar.vue'\r\n\timport btnService from '@/components/customerService/index.vue'\r\n\timport uniIcons from '@/components_uni/uni-icons/uni-icons.vue'\r\n\r\n\r\n\timport {\r\n\t\tweChatPayment,\r\n\t\tsetTime,\r\n\t\tsetDecimal,\r\n\t\tsetModeIf,\r\n\t\tformatTime\r\n\t} from '@/utils/utils.js';\r\n\tconst app = getApp()\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tgoodsBox,\r\n\t\t\tmodeChange,\r\n\t\t\tbottomSubmit,\r\n\t\t\tuniPopup,\r\n\t\t\tnoData,\r\n\t\t\tcouponBox,\r\n\t\t\tchangeAbout,\r\n\t\t\tmpvuePicker,\r\n\t\t\tunCalendar,\r\n\t\t\tbtnService,\r\n\t\t\tuniIcons\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 选择充值方式\r\n\t\t\t\tradio: app.globalData.provider === 'weixin' ? 2 : 3,\r\n\t\t\t\t// 总金额\r\n\t\t\t\tallMoney: 0,\r\n\t\t\t\taddNum: 0,\r\n\t\t\t\t// 订单数据\r\n\t\t\t\torderObj: {},\r\n\t\t\t\tarrayList: [],\r\n\t\t\t\tcolorItem: app.globalData.itemColor,\r\n\t\t\t\tcartList: [],\r\n\t\t\t\t// 座位号\r\n\t\t\t\ttableNumber: '',\r\n\t\t\t\tshowCoupon: false,\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tisOrder: true,\r\n\t\t\t\tshowInfo: false,\r\n\t\t\t\tradioCoupon: '0',\r\n\t\t\t\tcurrentShowStr: '',\r\n\t\t\t\t// 是否选择了优惠券(钱数)\r\n\t\t\t\tisChangeCoupon: false,\r\n\t\t\t\tisChangeCouponBool: null,\r\n\t\t\t\t// 是否是最后一页\r\n\t\t\t\tcurrentPageLast: false,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tdisabledBtn: false,\r\n\t\t\t\t//是支付宝还是微信\r\n\t\t\t\tprovider: app.globalData.provider,\r\n\t\t\t\tcolorIndex: app.globalData.colorIndex,\r\n\t\t\t\tcreateOrderId: null,\r\n\t\t\t\tappointMentType: '',\r\n\t\t\t\tshowTime: false,\r\n\t\t\t\tFinTimeInfo: [],\r\n\t\t\t\tpickerValueDefault: [],\r\n\t\t\t\taboutTime: {\r\n\t\t\t\t\tpropsAboutTime: '预约取餐',\r\n\t\t\t\t\tparamsAboutTime: ''\r\n\t\t\t\t},\r\n\t\t\t\tcurrentId: '', //当前选中的优惠券id\r\n\t\t\t\t// 是否有预约取餐\r\n\t\t\t\tisSubscribe: '',\r\n\t\t\t\tFinTimeInfoTwo: [],\r\n\t\t\t\tmodeVal: '',\r\n\t\t\t\tMinAmountNew: null,\r\n\t\t\t\tshowArea: app.globalData.isPack,\r\n\t\t\t\tcurrentArea: {},\r\n\t\t\t\tOrderProdAmt: 0,\r\n\t\t\t\tfreight: '',\r\n\t\t\t\tshowMode: false,\r\n\t\t\t\tcurrentIndexMode: null,\r\n\t\t\t\t// 不让重复提交点击\r\n\t\t\t\tdetermineDisabled: false,\r\n\t\t\t\t// 不让优惠券重复点击\r\n\t\t\t\tcouponDisabled: false,\r\n\t\t\t\tshowCalendar: false,\r\n\t\t\t\t//当前日期\r\n\t\t\t\tcurrentDate: '',\r\n\t\t\t\tcalendarDate: '',\r\n\t\t\t\t// 选中的日期\r\n\t\t\t\tpickerDate: '',\r\n\t\t\t\tpickerValueArray: [],\r\n\t\t\t\t// 是否是拼团的进来的\r\n\t\t\t\tisCollage: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.FinTimeInfo = []\r\n\t\t\tthis.currentDate = formatTime(new Date(), true)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsetDecimalFun(val) {\r\n\t\t\t\treturn setDecimal(val)\r\n\t\t\t},\r\n\t\t\tsetAllMoney(val) {\r\n\t\t\t\tif (val == 0) {\r\n\t\t\t\t\treturn 0.01\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn val\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetObj(isOne) {\r\n\t\t\t\t// 只有第一次加载的时候，才加载优惠券列表\r\n\t\t\t\tthis.$showLoads(0, '')\r\n\t\t\t\tvar arr = setProd(this)\r\n\t\t\t\tvar obj = {\r\n\t\t\t\t\tdata: arr\r\n\t\t\t\t}\r\n\t\t\t\tobj = JSON.stringify(obj)\r\n\r\n\t\t\t\tlet OrderSource = this.provider === 'weixin' ? 1 : 2\r\n\r\n\t\t\t\tlet currentAreaMy = uni.getStorageSync('currentAreaMy') || {}\r\n\t\t\t\tPromise.all([\r\n\t\t\t\t\tAPIList.api('OrderFill.aspx', {\r\n\t\t\t\t\t\tProdStr: obj,\r\n\t\t\t\t\t\tOrderSource: OrderSource,\r\n\t\t\t\t\t\tAddressNo: currentAreaMy.AddressNo || ''\r\n\t\t\t\t\t}, null, null, 'POST'),\r\n\t\t\t\t\tisOne ? APIList.api('Public/Submit_ajax.aspx', {\r\n\t\t\t\t\t\tType: 'GetCouponInfo',\r\n\t\t\t\t\t\tPageIndex: 1\r\n\t\t\t\t\t}) : '',\r\n\t\t\t\t\tisOne ? APIList.api('OrderFinTime.aspx', {\r\n\t\t\t\t\t\tProdStr: obj,\r\n\t\t\t\t\t}, null, null, 'POST') : ''\r\n\t\t\t\t]).then(res => {\r\n\t\t\t\t\t// 优惠券\r\n\t\t\t\t\tlet couponList = res[1].CouponList || []\r\n\t\t\t\t\tif (this.dataList.length === 0) {\r\n\t\t\t\t\t\tsetTime(couponList)\r\n\t\t\t\t\t\tthis.dataList = couponList || []\r\n\t\t\t\t\t\tthis.currentPageLast = res[1].IsNextPage\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(couponList, 'couponList')\r\n\r\n\t\t\t\t\t//商品详情\r\n\t\t\t\t\tlet D = res[0] || []\r\n\t\t\t\t\tthis.arrayList = D.ProdInfo\r\n\t\t\t\t\tthis.arrayList.forEach(data => {\r\n\t\t\t\t\t\tdata.num = data.Qty\r\n\t\t\t\t\t\tthis.addNum += Number(data.Qty)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tvar WxFavorAmt = 0\r\n\t\t\t\t\tif (this.radio === 2) {\r\n\t\t\t\t\t\tif (D.PrefInfo.WxFavorAmt) {\r\n\t\t\t\t\t\t\tWxFavorAmt = Number(D.PrefInfo.WxFavorAmt)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.radio === 3) {\r\n\t\t\t\t\t\tif (D.PrefInfo.AlipayFavorAmt) {\r\n\t\t\t\t\t\t\tWxFavorAmt = Number(D.PrefInfo.AlipayFavorAmt)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (D.PrefInfo.CardFavorAmt) {\r\n\t\t\t\t\t\t\tWxFavorAmt = Number(D.PrefInfo.CardFavorAmt)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar allMoney = Number(D.OrderPayedAmt) - WxFavorAmt - this.isChangeCoupon\r\n\r\n\t\t\t\t\tthis.currentArea = D.AddressInfo\r\n\t\t\t\t\tif (this.currentArea.Freight) {\r\n\t\t\t\t\t\tallMoney = Number(allMoney) + Number(this.currentArea.Freight)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallMoney = parseFloat(allMoney.toFixed(2))\r\n\t\t\t\t\tthis.allMoney = allMoney\r\n\t\t\t\t\tthis.orderObj = D\r\n\t\t\t\t\tapp.globalData.minAmount = D.MinDistributionAmount || ''\r\n\t\t\t\t\tthis.currentIndexMode = app.globalData.isPack - 1\r\n\t\t\t\t\tif (isOne) {\r\n\t\t\t\t\t\t//默认地址\r\n\t\t\t\t\t\t//商品总价格，用来比较起送费\r\n\t\t\t\t\t\tthis.OrderProdAmt = D.OrderProdAmt\r\n\t\t\t\t\t\t//保存选中的门店的信息\r\n\t\t\t\t\t\tlet shopLocation = {\r\n\t\t\t\t\t\t\tlatitude: D.ShopInfo.Latitude || '',\r\n\t\t\t\t\t\t\tlongitude: D.ShopInfo.Longitude || ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.setStorageSync('shopLocation', shopLocation)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//预约时间段\r\n\t\t\t\t\tthis.FinTimeInfo = res[2].FinTimeInfo || []\r\n\t\t\t\t\tif (isOne) {\r\n\t\t\t\t\t\tthis.appointMentType = this.orderObj.WX_OrderAppointMent !== '1' ? '1' :\r\n\t\t\t\t\t\t\tthis.appointMentType ? this.appointMentType : this.orderObj.OrderProdType\r\n\t\t\t\t\t\tthis.isSubscribe = this.orderObj.WX_OrderAppointMent\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$showLoads(1, '')\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(e, 9999)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetPackFun() {\r\n\t\t\t\tlet a = this.orderObj.WX_LogisticsDistribution\r\n\t\t\t\tlet b = this.orderObj.WX_OrderEatInStore\r\n\t\t\t\tlet c = this.orderObj.WX_OrderEatPackAway\r\n\r\n\t\t\t\t// let a = '1'\r\n\t\t\t\t// let b = '1'\r\n\t\t\t\t// let c = '1'\r\n\t\t\t\tlet setModeIfVal = setModeIf(a, b, c)\r\n\r\n\t\t\t\tif (setModeIfVal.bool) {\r\n\t\t\t\t\tif (c == '1' && this.FinTimeInfoTwo.filter(item => item['value'] === '1').length === 0) {\r\n\t\t\t\t\t\tthis.FinTimeInfoTwo.push({\r\n\t\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\t\tlabel: '打包'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (b == '1' && this.FinTimeInfoTwo.filter(item => item['value'] === '2').length === 0) {\r\n\t\t\t\t\t\tthis.FinTimeInfoTwo.push({\r\n\t\t\t\t\t\t\tvalue: '2',\r\n\t\t\t\t\t\t\tlabel: '堂食'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a == '1' && this.FinTimeInfoTwo.filter(item => item['value'] === '3').length === 0) {\r\n\t\t\t\t\t\tthis.FinTimeInfoTwo.push({\r\n\t\t\t\t\t\t\tvalue: '3',\r\n\t\t\t\t\t\t\tlabel: '外卖'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.showMode = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCouponList() {\r\n\t\t\t\tthis.disabledBtn = true\r\n\t\t\t\tAPIList.api('Public/Submit_ajax.aspx', {\r\n\t\t\t\t\tType: 'GetCouponInfo',\r\n\t\t\t\t\tPageIndex: this.pageIndex\r\n\t\t\t\t}).then(D => {\r\n\t\t\t\t\tlet couponList = D.CouponList\r\n\t\t\t\t\tthis.disabledBtn = false\r\n\t\t\t\t\tthis.currentPageLast = D.IsNextPage\r\n\r\n\t\t\t\t\tif (couponList.length > 0) {\r\n\t\t\t\t\t\tsetTime(couponList)\r\n\t\t\t\t\t\tthis.dataList = couponList || []\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.pageIndex = this.pageIndex - 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.disabledBtn = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickGoodsBox(val) {\r\n\t\t\t\t// 点击商品详情页\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: '../goodsInfo/index?id=1'\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tonChange(type) {\r\n\t\t\t\t// 选择卡支付还是 微信支付  type === 2微信支付，type === 3支付宝支付\r\n\t\t\t\tif (JSON.stringify(this.orderObj.PrefInfo) !== '{}') {\r\n\r\n\t\t\t\t\tvar amt = type === 2 ? this.orderObj.PrefInfo.WxFavorAmt : type === 3 ? this.orderObj.PrefInfo.AlipayFavorAmt :\r\n\t\t\t\t\t\tthis.orderObj.PrefInfo.CardFavorAmt\r\n\t\t\t\t\tvar allMoney = Number(this.orderObj.OrderPayedAmt) - Number(amt) - this.isChangeCoupon + Number(this.currentArea.Freight)\r\n\t\t\t\t\tallMoney = parseFloat(allMoney.toFixed(2))\r\n\r\n\t\t\t\t\tif (type === 1 && Number(this.orderObj.PayInfo.WX_CardBalance) < allMoney) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.allMoney = allMoney\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.radio = type\r\n\r\n\t\t\t},\r\n\t\t\tdetermine() {\r\n\t\t\t\tif (Number(app.globalData.minAmount) > Number(this.OrderProdAmt) && app.globalData.isPack == '3') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未到达起送费哦,不含配送费',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 结账\r\n\t\t\t\tif (this.provider === 'weixin' && this.orderObj.PayInfo.WX_WxPay !== '1' && this.radio == 2) {\r\n\t\t\t\t\t// 微信，不支持微信支付\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择付款方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.provider === 'alipay' && this.orderObj.PayInfo.WX_AlipayPay !== '1' && this.radio == 3) {\r\n\t\t\t\t\t// 支付宝，不支持支付宝支付\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择付款方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.orderObj.PayInfo.WX_CardBalance < this.allMoney && this.radio === 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择付款方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.determineDisabled) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.determineDisabled = true\r\n\t\t\t\tif (!this.createOrderId) {\r\n\t\t\t\t\tthis.createOrderFun().then(data => {\r\n\t\t\t\t\t\tif (this.provider === 'weixin') {\r\n\t\t\t\t\t\t\tthis.subscribeMessage()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.createPayment()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 已经生成订单\r\n\t\t\t\t\tif (this.provider === 'weixin') {\r\n\t\t\t\t\t\tthis.subscribeMessage()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.createPayment()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubscribeMessage() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (that.tempMessageID != \"\") {\r\n\t\t\t\t\t\tlet tempMessageID = that.tempMessageID.split(',')\r\n\r\n\t\t\t\t\t\t// console.log(tempMessageID,'tempMessageID')\r\n\t\t\t\t\t\twx.requestSubscribeMessage({\r\n\t\t\t\t\t\t\ttmplIds: tempMessageID,\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tthat.createPayment()\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tthat.createPayment()\r\n\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.createPayment()\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthat.createPayment()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreatePayment() {\r\n\t\t\t\t// 清空购物车，已经生成订单就得清空购物车\r\n\t\t\t\tuni.setStorageSync('cartList', [])\r\n\t\t\t\tif (this.radio == 1) {\r\n\t\t\t\t\t//跳到卡支付页面\r\n\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: '../cardPayment/index?id=' + this.createOrderId\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar _url = this.provider === 'weixin' ? '/Public/WxPay/WxPay.aspx' : '/Public/AliPay/AliPay.aspx'\r\n\t\t\t\t\tAPIList.api(_url, {\r\n\t\t\t\t\t\tOrderID: this.createOrderId\r\n\t\t\t\t\t}).then(data => {\r\n\t\t\t\t\t\t//发起微信支付请求\r\n\t\t\t\t\t\tweChatPayment(app, this.createOrderId, data)\r\n\t\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\t// console.log(e,'2333ee')\r\n\t\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreateOrderFun() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tif (Number(this.appointMentType) === 2 && !this.aboutTime.paramsAboutTime) { //预约取餐\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请选择预约时间',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar arr = setProd(this)\r\n\t\t\t\t\tvar objProd = {\r\n\t\t\t\t\t\tdata: arr\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobjProd = JSON.stringify(objProd)\r\n\t\t\t\t\tlet OrderSource = this.provider === 'weixin' ? 1 : 2\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tProdStr: objProd,\r\n\t\t\t\t\t\tOrderSource: OrderSource,\r\n\t\t\t\t\t\tMemoStr: this.inputValue || '',\r\n\t\t\t\t\t\tPrefNo: (this.radio == 1 ? this.orderObj.PrefInfo.CardPrefNo : this.provider === 'weixin' ? this.orderObj.PrefInfo\r\n\t\t\t\t\t\t\t.WxPrefNo : this.orderObj.PrefInfo.AlipayPrefNo) || '',\r\n\t\t\t\t\t\tPayType: this.radio == 1 ? 1 : 2,\r\n\t\t\t\t\t\tCodeNo: this.radioCoupon || '',\r\n\t\t\t\t\t\tCodePayed: this.isChangeCoupon || 0,\r\n\t\t\t\t\t\tAppointMentType: this.appointMentType,\r\n\t\t\t\t\t\tFinTime: Number(this.appointMentType) === 1 ? '' : this.aboutTime.paramsAboutTime,\r\n\t\t\t\t\t\tAddressNo: app.globalData.isPack == 3 ? this.currentArea.AddressNo : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.radioCoupon || this.radioCoupon == 0) {\r\n\t\t\t\t\t\t// 没有选择优惠券\r\n\t\t\t\t\t\tdelete obj.CodeNo\r\n\t\t\t\t\t\tdelete obj.CodePayed\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(JSON.stringify(obj), 'obj333')\r\n\t\t\t\t\t// return\r\n\t\t\t\t\tthis.$showLoads(0, '') //加载\r\n\t\t\t\t\tAPIList.api('OrderSubmit.aspx', obj, null, null, 'POST').then(D => {\r\n\t\t\t\t\t\tthis.$showLoads(1, '')\r\n\t\t\t\t\t\tthis.createOrderId = D.OrderID\r\n\t\t\t\t\t\tthis.tempMessageID = D.TempMessageID || ''\r\n\t\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: e,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.determineDisabled = false\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\trouterBindCard() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../indexVip/cardBind/index?order=' + true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangeMode(e) {\r\n\t\t\t\t// 点击预约取餐\r\n\t\t\t\tif (e === 2) {\r\n\t\t\t\t\tthis.showCalendar = true\r\n\t\t\t\t\tthis.calendarDate = this.aboutTime.pickerDate\r\n\t\t\t\t}\r\n\t\t\t\tthis.appointMentType = e\r\n\t\t\t},\r\n\t\t\tgetTimeList(val) {\r\n\t\t\t\tthis.$showLoads(0, '')\r\n\t\t\t\tvar arr = setProd(this)\r\n\t\t\t\tvar obj = {\r\n\t\t\t\t\tdata: arr\r\n\t\t\t\t}\r\n\t\t\t\tobj = JSON.stringify(obj)\r\n\t\t\t\tAPIList.api('OrderFinTime.aspx', {\r\n\t\t\t\t\tProdStr: obj,\r\n\t\t\t\t\tFinDate: val\r\n\t\t\t\t}, null, null, 'POST').then(D => {\r\n\t\t\t\t\tlet timeArr = D.FinTimeInfo[0].Time\r\n\t\t\t\t\ttimeArr.forEach((D, index) => {\r\n\t\t\t\t\t\ttimeArr[index] = {\r\n\t\t\t\t\t\t\tlabel: D,\r\n\t\t\t\t\t\t\tvalue: D\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.FinTimeInfo.push(D.FinTimeInfo[0])\r\n\t\t\t\t\tthis.pickerValueArray = timeArr\r\n\t\t\t\t\tthis.$showLoads(1, '')\r\n\t\t\t\t}).catch(e => {})\r\n\t\t\t},\r\n\t\t\tbindKeyInput(e) {\r\n\t\t\t\tthis.inputValue = e.detail.value\r\n\t\t\t},\r\n\t\t\tchangeCoupon() {\r\n\t\t\t\t// 选择优惠券\r\n\t\t\t\tif (this.dataList.length > 0) {\r\n\t\t\t\t\tthis.showCoupon = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonCloseCoupon(bool) {\r\n\t\t\t\tif (!bool.show) {\r\n\t\t\t\t\tthis.showCoupon = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonCloseMode(bool) {\r\n\t\t\t\tif (!bool.show) {\r\n\t\t\t\t\tthis.showMode = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclickMode(index) {\r\n\t\t\t\tthis.showMode = false\r\n\t\t\t\t// 2就餐 ；1打包\r\n\t\t\t\tlet val = Number(index) + 1\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tapp.globalData.isPack = val\r\n\t\t\t\t\tthis.modeVal = val == '1' ? '打包' : val == '2' ? '堂食' : '外卖'\r\n\t\t\t\t}\r\n\t\t\t\tthis.getObj()\r\n\t\t\t},\r\n\t\t\tonClickCoupon(e) {\r\n\t\t\t\t// 选择优惠券\r\n\t\t\t\tif (!e) {\r\n\t\t\t\t\tthis.showCoupon = false\r\n\t\t\t\t\tthis.allMoney = this.allMoney + this.isChangeCoupon //还原钱数\r\n\t\t\t\t\tthis.allMoney = parseFloat(this.allMoney.toFixed(2))\r\n\t\t\t\t\tthis.radioCoupon = 0\r\n\t\t\t\t\tthis.isChangeCoupon = 0\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.couponDisabled) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.couponDisabled = true\r\n\t\t\t\tthis.radioCoupon = e\r\n\t\t\t\tthis.judgeCanUser(e)\r\n\t\t\t},\r\n\t\t\tonClicknoCoupon() {},\r\n\t\t\tjudgeCanUser(radioId) {\r\n\t\t\t\tvar orderObj = this.orderObj\r\n\t\t\t\tvar arr = setProd(this)\r\n\t\t\t\tvar objProd = {\r\n\t\t\t\t\tdata: arr\r\n\t\t\t\t}\r\n\t\t\t\tobjProd = JSON.stringify(objProd)\r\n\t\t\t\tvar obj = {\r\n\t\t\t\t\tProdStr: objProd,\r\n\t\t\t\t\tCodeNo: radioId\r\n\t\t\t\t}\r\n\r\n\t\t\t\tAPIList.api('CouponUseChk.aspx', obj, null, null, 'POST').then(D => {\r\n\t\t\t\t\tthis.allMoney = this.allMoney + this.isChangeCoupon\r\n\t\t\t\t\tvar allMoney = 0\r\n\r\n\t\t\t\t\tallMoney = this.allMoney - Number(D.CodePayed)\r\n\r\n\t\t\t\t\tallMoney = parseFloat(allMoney.toFixed(2))\r\n\t\t\t\t\tthis.showCoupon = false\r\n\r\n\t\t\t\t\tthis.isChangeCoupon = Number(D.CodePayed)\r\n\t\t\t\t\tthis.isChangeCouponBool = D.CodePayed\r\n\t\t\t\t\tif (Number(allMoney) <= 0) {\r\n\t\t\t\t\t\tallMoney = 0.01\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.allMoney = allMoney\r\n\t\t\t\t\tthis.currentId = D.CodeNo\r\n\t\t\t\t\tthis.couponDisabled = false\r\n\t\t\t\t\t// 说明此券可以使用\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.couponDisabled = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCloseInfo(bool) {\r\n\t\t\t\tif (!bool.show) {\r\n\t\t\t\t\tthis.showInfo = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tviewMore(str) {\r\n\t\t\t\tthis.showInfo = true\r\n\t\t\t\t// str = str.replace(/~/g, '\\n')\r\n\t\t\t\tthis.currentShowStr = str\r\n\t\t\t},\r\n\t\t\tclickPage(e) {\r\n\t\t\t\tif (this.disabledBtn) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(e, 'e')\r\n\t\t\t\tif (e == 1) {\r\n\t\t\t\t\tif (this.pageIndex > 1) {\r\n\t\t\t\t\t\tthis.pageIndex--\r\n\t\t\t\t\t\tthis.getCouponList()\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"这是第一页\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Number(this.currentPageLast) === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"这是最后一页\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.pageIndex++\r\n\t\t\t\t\t\tthis.getCouponList()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonConfirmTime(val) {\r\n\t\t\t\tthis.showCalendar = false\r\n\t\t\t\tlet labelArr = val.label.split('-')\r\n\t\t\t\tthis.aboutTime = {\r\n\t\t\t\t\tpropsAboutTime: this.pickerDate + ' ' + val.label,\r\n\t\t\t\t\tparamsAboutTime: this.pickerDate + ' ' + labelArr[0] + ':00',\r\n\t\t\t\t\tpickerDate: this.pickerDate\r\n\t\t\t\t}\r\n\t\t\t\tthis.calendarDate = this.pickerDate\r\n\t\t\t},\r\n\t\t\tonConfirmTimeTwo() {\r\n\r\n\t\t\t},\r\n\t\t\tShopPhone() {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: this.orderObj.ShopInfo.ShopTel\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchangeArea() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/indexCanteen/areaList/areaList?OptType=1'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmDate(val) {\r\n\t\t\t\tthis.pickerDate = val.fulldate\r\n\t\t\t\tlet arr = this.FinTimeInfo.filter(D => {\r\n\t\t\t\t\treturn D.Date === val.fulldate\r\n\t\t\t\t})\r\n\t\t\t\tif (arr.length > 0) {\r\n\t\t\t\t\tthis.pickerValueArray = arr[0].Time\r\n\t\t\t\t\tthis.pickerValueArray.forEach((D, index) => {\r\n\t\t\t\t\t\tif (this.pickerValueArray[index].hasOwnProperty('label')) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.pickerValueArray[index] = {\r\n\t\t\t\t\t\t\tlabel: D,\r\n\t\t\t\t\t\t\tvalue: D\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.pickerValueArray = []\r\n\t\t\t\t\tthis.getTimeList(val.fulldate)\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.mpvuePicker.show()\r\n\t\t\t},\r\n\t\t\tcalendarRevert() {\r\n\t\t\t\tthis.showCalendar = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\t// 拼团\r\n\t\t\tthis.isCollage = option.isCollage || false\r\n\t\t\tuni.removeStorageSync('currentAreaMy')\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tif (!app.globalData.isPack) {\r\n\t\t\t\tconsole.log('订单消失')\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/indexCanteen/index'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (this.createOrderId) {\r\n\t\t\t\t//是否生成了订单(是微信的时候，如果生成了订单，跳到详情页面)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tlet isPack = app.globalData.isPack\r\n\t\t\tthis.modeVal = isPack == '1' ? '打包' : isPack == '2' ? '堂食' : '外卖'\r\n\r\n\t\t\tif (this.isCollage) {\r\n\t\t\t\tthis.cartList = uni.getStorageSync(\"listCollage\")\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.removeStorageSync('listCollage');\r\n\t\t\t\t}, 300)\r\n\t\t\t} else {\r\n\t\t\t\tthis.cartList = uni.getStorageSync(\"cartList\")\r\n\t\t\t}\r\n\t\t\tif (this.cartList.length > 0) {\r\n\t\t\t\t//去除num为0的，不可以提交到订单页面\r\n\t\t\t\tthis.cartList.forEach((D, index) => {\r\n\t\t\t\t\tif (D.num === 0) {\r\n\t\t\t\t\t\tthis.cartList.splice(index, 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.tableNumber = app.globalData.tableNumber\r\n\t\t\tif (!app.globalData.openID) {\r\n\t\t\t\tthis.$store.dispatch('Login').then(D => {\r\n\t\t\t\t\tthis.getObj(true)\r\n\t\t\t\t\tthis.provider = app.globalData.provider\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.getObj(true)\r\n\t\t\t\tthis.provider = app.globalData.provider\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {}\r\n\t}\r\n\r\n\tfunction setProd(_this) {\r\n\t\tvar arr = _this.cartList.slice()\r\n\t\t_this.addNum = 0\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tvar Data = arr[i]\r\n\t\t\tData.prodQty = Data.num\r\n\t\t\tData.prodTast = Data.recordFlavor ? (Data.recordFlavor).join(',') : ''\r\n\t\t\tvar strParts = []\r\n\t\t\tdelete Data.ProdImg\r\n\t\t\tdelete Data.FeaturesHtmlInfo\r\n\t\t\tdelete Data.CarouselImgInfo\r\n\t\t}\r\n\r\n\t\treturn arr\r\n\t}\r\n\r\n\t// 跳转到商品详情页\r\n\t// function jumpFun(Mag, time = 2000) {\r\n\t// \tsetTimeout(() => {\r\n\t// \t\tuni.redirectTo({\r\n\t// \t\t\turl: '../../indexOrder/orderInfo/index?id=' + Mag\r\n\t// \t\t})\r\n\t// \t}, time)\r\n\t// }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '../../../components/couponBox/couponInfo.css';\r\n\r\n\t.offeredTop {\r\n\t\tdisplay: flex;\r\n\t\theight: 80px;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 7pt;\r\n\r\n\t\t.offeredTopDiv {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.offeredTopImg {\r\n\t\t\twidth: 26px;\r\n\t\t\theight: 26px;\r\n\t\t\tmargin-left: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.offeredTopIcon {\r\n\t\t\twidth: 50rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.payment-style {\r\n\t\tbackground: #FFFFFF;\r\n\t\tmin-height: 100vh;\r\n\t\tposition: relative;\r\n\r\n\t\t.customer-service-style {\r\n\t\t\t// top: 0;\r\n\t\t\tright: 50px;\r\n\t\t\t// z-index: 5;\r\n\t\t}\r\n\r\n\t\t.calendar-style {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tmin-height: 100vh;\r\n\t\t\tz-index: 3;\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding-bottom: 41px;\r\n\r\n\t\t\t.calendar-revert-style {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 4;\r\n\t\t\t\ttop: 14px;\r\n\t\t\t\tleft: 14px;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.setPack {\r\n\t\t\tpadding: 10px 10px;\r\n\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\toverflow: hidden;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tfont-size: 9pt;\r\n\t\t\tline-height: 17px;\r\n\r\n\t\t\t.setPackArea {\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.setPackAreaLocation {\r\n\t\t\t\tfont-size: 10pt;\r\n\t\t\t\tmargin-right: 8px;\r\n\t\t\t}\r\n\r\n\t\t\t.setPackButton {}\r\n\t\t}\r\n\r\n\t\t.pack-is-style {\r\n\t\t\tpadding: 6px 6px 6px 0;\r\n\t\t\tborder: 1px solid #D82F37;\r\n\t\t\twidth: 115px;\r\n\t\t\theight: 16px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tbackground: #f6f6f6;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tborder-radius: 10px;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #D82F37;\r\n\t\t\tposition: relative;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfloat: right;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 25px !important;\r\n\t\t\t\theight: 25px !important;\r\n\t\t\t}\r\n\r\n\t\t\t.changeTopIcon {\r\n\t\t\t\tright: 0px;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 26px;\r\n\t\t\t\theight: 26px;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.orderTable {\r\n\t\t\tpadding: 5px;\r\n\t\t\tcolor: #707070;\r\n\t\t\tborder-top: 4px solid #eee;\r\n\t\t\tborder-bottom: 1px dashed #eee;\r\n\t\t\tfont-size: 13pt;\r\n\t\t}\r\n\r\n\t\t.orderTableShop {\r\n\r\n\t\t\t// margin-top: 7px;\r\n\t\t\t.tableNumberStyle {}\r\n\r\n\t\t\t.iconshop {\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tmargin-right: 6px;\r\n\t\t\t\twidth: 22px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\r\n\t\t\t.orderTableShopRight {\r\n\t\t\t\tfloat: right;\r\n\t\t\t}\r\n\r\n\t\t\t.iconShopPhone {\r\n\t\t\t\tfont-size: 21px;\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t\tcolor: #D82F37;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.popupFa {\r\n\t\t\t.uni-popup__wrapper-box {\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.uni-popup {\r\n\t\t\tz-index: 20;\r\n\t\t}\r\n\r\n\t\t.uni-popup__wrapper-box {\r\n\t\t\tpadding: 0 !important;\r\n\t\t}\r\n\r\n\t\t.conponStyle {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tpadding: 10px 10px;\r\n\t\t\tborder-top: 8px solid #f5f5f5;\r\n\t\t\tborder-bottom: 8px solid #f5f5f5;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.iconMy {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tcolor: rgb(211, 207, 207);\r\n\t\t\tfont-size: 20px;\r\n\t\t}\r\n\r\n\t\t.noCoupon {\r\n\t\t\tmargin-left: 10px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tline-height: 0;\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\r\n\t\t.RemarksFa {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 10px 0 0;\r\n\t\t}\r\n\r\n\t\t.Remarks {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tmargin: auto;\r\n\t\t\t// line-height: 25px;\r\n\t\t}\r\n\r\n\t\tinput {\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\r\n\t\t.inputRemarks {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 10px;\r\n\t\t}\r\n\r\n\t\t.summary {\r\n\t\t\tfont-size: 14px;\r\n\t\t\tpadding: 10px;\r\n\t\t\tborder-top: 8px solid #f5f5f5;\r\n\t\t\tborder-bottom: 8px solid #f5f5f5;\r\n\t\t}\r\n\r\n\t\t.summaryMoney {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tline-height: 26px;\r\n\t\t}\r\n\r\n\t\t.summaryNum {\r\n\t\t\tfloat: right;\r\n\t\t}\r\n\r\n\t\t.summaryNumClick {\r\n\t\t\tfloat: right;\r\n\t\t\tcolor: #777;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tline-height: 26px;\r\n\t\t}\r\n\r\n\t\t.value-class {\r\n\t\t\tpadding: 8px;\r\n\t\t\tfont-size: 10pt;\r\n\r\n\r\n\t\t}\r\n\r\n\t\t/* \t.title-class {\r\n\t\tpadding: 8px\r\n\t*/\r\n\t\t.wechat {\r\n\t\t\twidth: 18px;\r\n\t\t\theight: 18px;\r\n\t\t\tmargin-right: 8px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tvertical-align: middle;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.gold-coin {\r\n\t\t\tcolor: #fdcc63;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tmargin-right: 8px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-size: 20px;\r\n\t\t}\r\n\r\n\t\t.orderBottom {\r\n\t\t\tpadding-bottom: 60px;\r\n\t\t}\r\n\r\n\t\t.button-class {\r\n\t\t\tbackground: #ffa006;\r\n\t\t}\r\n\r\n\t\t.custom-popup {\r\n\t\t\tmargin-left: -1px;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t.no-payCard-style {\r\n\t\t\tvertical-align: top;\r\n\t\t\tmargin-right: 10px;\r\n\t\t}\r\n\r\n\t\t.custom-class-button {\r\n\t\t\tmin-width: 80px !important;\r\n\t\t\tbackground: #fdcc63 !important;\r\n\t\t\tcolor: #fff !important;\r\n\t\t\tborder: 1px solid #fdcc63 !important;\r\n\t\t}\r\n\r\n\t\t.takeout-page {\r\n\t\t\tcolor: #ffa006;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tmargin: 0px 0 5px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t\t.takeout-page-left,\r\n\t\t.takeout-page-right {\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\r\n\t\t.page-number {\r\n\t\t\tmargin: 0 8px;\r\n\t\t\tfont-size: 10pt;\r\n\t\t\tline-height: 26px;\r\n\t\t}\r\n\r\n\t\t.custom-class-left,\r\n\t\t.custom-class-right {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tpadding-left: 7px;\r\n\t\t\tpadding-right: 11px;\r\n\t\t\tline-height: 26px;\r\n\t\t\theight: 26px;\r\n\t\t\tbackground: #ffa006;\r\n\t\t\tcolor: #fff;\r\n\r\n\t\t}\r\n\r\n\t\t.custom-class-right {\r\n\t\t\tpadding-left: 11px;\r\n\t\t\tpadding-right: 7px;\r\n\t\t\tmargin-right: 10px;\r\n\t\t}\r\n\r\n\t\t.modeShowStyle {\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 10px;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\t.modeShowBox {\r\n\t\t\t\tmargin: 16px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600324447881\n      var cssReload = require(\"D:/下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}