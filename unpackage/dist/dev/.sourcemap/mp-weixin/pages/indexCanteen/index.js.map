{"version":3,"sources":["webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?eb81","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?c187","uni-app:///main.js","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?b6af","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?3884","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?eebf","webpack:///D:/newProject/hy-admin-card/admin-shoppingMall/bak365-order/pages/indexCanteen/index.vue?a37b","uni-app:///pages/indexCanteen/index.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAwrC,CAAgB,yjCAAG,EAAC,C;;;;;;;;;;;ACA5sC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,mG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+oB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0DnqB,iF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA,mB,+0CAQA,2D,eACA,EACA,cACA,0BADA,EAEA,cAFA,EAGA,kBAHA,EAIA,wBAJA,EADA,EAOA,IAPA,kBAOA,CACA,SACA;AACA,yCAFA,EAGA,mCAHA,EAIA,iCAJA,EAKA;AACA,qBANA,EAOA,eAPA,EAQA;AACA,mBATA,EAUA;AACA,qBAXA,EAYA;AACA,kBAbA,EAcA;AACA,mBAfA,EAgBA;AACA,eAjBA,EAkBA,WAlBA,EAmBA;AACA,sBApBA,EAqBA;AACA,qBAtBA,EAuBA,cAvBA,EAwBA,cAxBA,EAyBA;AACA,kBA1BA,EA2BA;AACA,kBA5BA,EA6BA;AACA,sBA9BA,EA+BA,iBA/BA,EAgCA,oBAhCA,GAkCA,CA1CA,EA2CA,8CACA;AACA,mBAFA,CAEA;AACA,iCACA,iBACA,yBADA,IAGA,OACA,CACA,6BACA,uBADA,CACA;AACA,uDACA,sCACA,CAFA,EAGA,CALA,MAKA,CACA,uBADA,CACA;AACA,qBACA,CACA,wCAEA,gCACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA,CACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAnFA;AAoFA;AACA,iBADA,2BACA,EADA;AAEA,aAFA,qBAEA,MAFA,EAEA,GAFA,EAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAVA;AAWA,iBAXA,yBAWA,CAXA,EAWA;AACA;;AAEA;AACA;AACA,yBADA;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAjCA;AAkCA,kBAlCA,0BAkCA,IAlCA,EAkCA,KAlCA,EAkCA;AACA;AACA,KApCA;AAqCA,aArCA,qBAqCA,KArCA,EAqCA;AACA,KAtCA;AAuCA,eAvCA,uBAuCA,GAvCA,EAuCA,KAvCA,EAuCA;AACA;AACA,sCAFA,CAEA;AACA;AACA,oBADA,CACA;AACA,OAFA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;;;AAQA;AACA,uBADA;AAEA,kBAFA;;AAIA,KAxFA;AAyFA,cAzFA,wBAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBADA;AAEA,gBAFA;;AAIA,KA5GA;AA6GA,kBA7GA,4BA6GA;AACA;AACA,iCADA;;AAGA,KAjHA;AAkHA,cAlHA,wBAkHA;AACA;AACA;AACA,oCADA;;AAGA,KAvHA;AAwHA,cAxHA,sBAwHA,CAxHA,EAwHA;AACA;AACA;AACA;AACA;AACA;AACA,KA9HA;AA+HA,aA/HA,uBA+HA;AACA;AACA,gDADA;;AAGA,KAnIA;AAoIA,WApIA,mBAoIA,MApIA,EAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OApBA,EAoBA,KApBA,CAoBA;AACA;;AAEA;AACA;AACA,OAzBA;AA0BA,KAlKA;AAmKA,WAnKA,qBAmKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAFA,CAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,OA9BA,MA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhNA;AAiNA,aAjNA,uBAiNA;AACA;AACA,mCADA;;AAGA,KArNA;AAsNA,eAtNA,yBAsNA;AACA;AACA,iCADA;;AAGA,KA1NA;AA2NA,eA3NA,yBA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,0BAFA;;AAIA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA,SAdA;AAeA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA,SApBA;;AAsBA,KArPA,EApFA;;AA2UA;AACA,GA5UA,E;;;;AAgVA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAJA;AAKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,GATA;AAUA;AACA,C","file":"pages/indexCanteen/index.js","sourcesContent":["import mod from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600324447157\n      var cssReload = require(\"D:/下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/indexCanteen/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=1d9d3f98&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/indexCanteen/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1d9d3f98&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index-canteen-style\">\r\n\t\t<view class=\"shop-name\">\r\n\t\t\t<view class=\"shop-revert\" @click=\"shopRevertMain\">\r\n\t\t\t\t<text class=\"icon shop-revert-icon\">&#xe61b;</text>首页\r\n\t\t\t</view>\r\n\t\t\t<view style=\"display: inline-block;\" @click=\"shopClick\">\r\n\t\t\t\t<text class=\"icon shop-name-icon\" :style=\"{'color':itemColor}\">&#xe640;</text>\r\n\t\t\t\t<text :style=\"{color:itemColor,'verticalAlign': 'middle'}\">{{shopName}}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"ReachTime\">\r\n\t\t\t\t<view @click=\"searchGoods\" class=\"ReachTimeInput\">\r\n\t\t\t\t\t<input disabled class=\"weui-input\" placeholder=\"搜索\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @click=\"goodCodeFun\" class=\"icon goodCodeStyle\">&#xe62c;</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"homepage\">\r\n\t\t\t<view class=\"homepageLeftFa\">\r\n\t\t\t\t<!-- 左边商品类型栏 -->\r\n\t\t\t\t<view :class=\"['homepageLeftFixed','theme'+colorNum]\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in ProdCateInfo\" :key=\"index\" :class=\"['homepageLeft',index===currentIndex?'activeCanteen':'']\"\r\n\t\t\t\t\t @click=\"itemClick(item.CateNo,index)\">\r\n\t\t\t\t\t\t{{item.CateName}}\r\n\t\t\t\t\t\t<view class=\"homepageLeft-info\" style=\"background: #ffa006;\" v-if=\"item.numInfo>0\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<bottom-submit v-if=\"allMoney>0\" :allMoney=\"allMoney\" :addNum=\"addNum\" :cartLists=\"cartLists\" @clickClear=\"clickClear\"\r\n\t\t\t @setCartList=\"setCartList\" @changeMax=\"changeMax\" @determine=\"determine\">88888</bottom-submit>\r\n\r\n\t\t\t<!--旧 <bottom-box :allMoney=\"allMoney\" :addNum=\"addNum\" @setCartList=\"setCartList\" :cartList=\"cartLists\" @clickClear=\"clickClear\"\r\n\t\t\t @determine=\"determine\" popupShow=\"popupShow\"></bottom-box> -->\r\n\t\t\t\r\n\t\t\t<view class=\"homepageRight\">\r\n\t\t\t\t<!-- 右边商品展示列表 -->\r\n\t\t\t\t<goods-box v-if=\"arrayList.length>0\" v-for=\"(item,index) in arrayList\" :itemData=\"item\" :key=\"index\" @mycurrentPage=\"mycurrentPage\"\r\n\t\t\t\t :codeItemData=\"goodCodeData\" @setShowStepper=\"setShowStepper($event,index)\">\r\n\t\t\t\t</goods-box>\r\n\t\t\t\t<no-data v-if=\"arrayList.length===0\"></no-data>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"stepperStyle\" style=\"background-color: skyblue;\">\r\n\t\t\t\t<stepper-card :itemData=\"goodCodeData\" @mycurrentPage=\"mycurrentPage\" :isShowCode=\"isShowCode\"></stepper-card>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<button v-if=\"WXSmallProgramKf==='1'&&provider==='weixin'\" open-type=\"contact\" @contact=\"handleContact\"\r\n\t\t :show-message-card=\"true\" send-message-img send-message-path=\"/pages/indexCanteen/index\" send-message-title=\"商品列表\">\r\n\t\t\t<span class=\"icon customer-service-style\" :style=\"{'color': itemColor,\r\n\t\t\t'border': '1px solid'+ itemColor}\">&#xe60a;</span>\r\n\t\t</button>\r\n\t\t<!-- <bottomSubmit ></bottomSubmit> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet app = getApp()\r\n\timport APIList from '@/api/http.js';\r\n\t// import bottomSubmit from '@/components/bottomSubmit/index.vue'\r\n\timport bottomSubmit from \"../../components/bottomSubmit/index.vue\"\r\n\timport noData from '@/components/nodeData/index.vue'\r\n\timport goodsBox from '@/components/goodsBox/index.vue'\r\n\timport stepperCard from '@/components/stepperCard/index.vue'\r\n\r\n\tvar utils = require('@/utils/utils.js')\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tbottomSubmit,\r\n\t\t\tnoData,\r\n\t\t\tgoodsBox,\r\n\t\t\tstepperCard\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 动态设置主题色\r\n\t\t\t\tcolorNum: app.globalData.colorIndex,\r\n\t\t\t\titemColor: app.globalData.itemColor,\r\n\t\t\t\tprovider: app.globalData.provider,\r\n\t\t\t\t// 当前点击的索引\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tcurrentList: [],\r\n\t\t\t\t// 当前的商品列表\r\n\t\t\t\tarrayList: [],\r\n\t\t\t\t// 总商品列表\r\n\t\t\t\tallGoodList: [],\r\n\t\t\t\t// 总余额\r\n\t\t\t\tallMoney: '',\r\n\t\t\t\t// 购物车列表\r\n\t\t\t\tcartLists: [],\r\n\t\t\t\t// 加入购物车的数量\r\n\t\t\t\taddNum: 0,\r\n\t\t\t\tshow: false,\r\n\t\t\t\t// 左侧导航\r\n\t\t\t\tProdCateInfo: [],\r\n\t\t\t\t// 打开模式选择\r\n\t\t\t\tshowPack: false,\r\n\t\t\t\tradioMode: \"2\",\r\n\t\t\t\tloading: false,\r\n\t\t\t\t// 商店名称\r\n\t\t\t\tshopName: '',\r\n\t\t\t\t// 配件库存\r\n\t\t\t\tpartsQty: {},\r\n\t\t\t\t// 扫码获取的商品\r\n\t\t\t\tgoodCodeData: {},\r\n\t\t\t\tisShowCode: false,\r\n\t\t\t\tWXSmallProgramKf: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t// app.globalData.isPack = 2\r\n\t\t\tthis.getList()//打包记得删除\r\n\t\t\tif (!app.globalData.isPack) {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: \"../indexMain/index\"\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (!app.globalData.openID) {\r\n\t\t\t\tthis.$showLoads(0, '') //加载\r\n\t\t\t\tthis.$store.dispatch('Login').then(D => {\r\n\t\t\t\t\tthis.getList(app.globalData.openID)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.$showLoads(0, '') //加载\r\n\t\t\t\tthis.getList()\r\n\t\t\t}\r\n\t\t\tthis.provider = app.globalData.provider\r\n\t\t\t\r\n\t\t\tif (this.arrayList.length > 0) {\r\n\t\t\t\tthis.setList()\r\n\t\t\t\tvar prodCateInfo = setLeftNum(this.ProdCateInfo)\r\n\t\t\t\tthis.ProdCateInfo = prodCateInfo\r\n\t\t\t\t// 清除购物车\r\n\t\t\t\tvar cartList = uni.getStorageSync('cartList')\r\n\t\t\t\tif (!cartList || cartList.length === 0) {\r\n\t\t\t\t\tthis.arrayList.forEach(D => {\r\n\t\t\t\t\t\tD.num = 0 //清除所有num\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.ProdCateInfo.forEach(data => {\r\n\t\t\t\t\t\tdata.numInfo = 0\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.cartLists = []\r\n\t\t\t\t\tthis.ProdCateInfo = this.ProdCateInfo\r\n\t\t\t\t\tthis.addNum = 0\r\n\t\t\t\t\tthis.allMoney = 0\r\n\t\t\t\t\tthis.arrayList = this.arrayList\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleContact() {},\r\n\t\t\titemClick(cateno, num) {\r\n\t\t\t\t// 点击当前的左边导航\r\n\t\t\t\tthis.currentIndex = num\r\n\r\n\t\t\t\tlet arr = filterList(cateno, this.allGoodList)\r\n\t\t\t\t\r\n\t\t\t\tthis.arrayList = arr\r\n\t\t\t\tthis.setList()\r\n\t\t\t},\r\n\t\t\tmycurrentPage(e) {\r\n\t\t\t\tvar cartListArr = utils.setCard(e)\r\n\r\n\t\t\t\tif (e.itemData.num > this.addNum) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '已加入购物车'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.allMoney = 0\r\n\t\t\t\tthis.addNum = 0\r\n\r\n\t\t\t\tsetListNum(this, cartListArr)\r\n\r\n\t\t\t\tvar prodCateInfo = setLeftNum(this.ProdCateInfo)\r\n\r\n\t\t\t\t// allMoney,addNum\r\n\t\t\t\tthis.cartLists = cartListArr\r\n\t\t\t\tthis.arrayList = this.arrayList\r\n\t\t\t\tthis.ProdCateInfo = prodCateInfo\r\n\t\t\t\tthis.addNum = cartListArr.length > 0 ? this.addNum : 0;\r\n\t\t\t\tthis.allMoney = cartListArr.length > 0 ? parseFloat(this.allMoney.toFixed(2)) : 0\r\n\t\t\t},\r\n\t\t\tsetShowStepper(bool, index) {\r\n\t\t\t\tthis.$set(this.arrayList[index], 'showStepper', bool)\r\n\t\t\t},\r\n\t\t\tchangeMax(index) {\r\n\t\t\t},\r\n\t\t\tsetCartList(num, index) {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\tthis.cartLists[index].num = num //更新商品的数量\r\n\t\t\t\tthis.cartLists[index].prodPartsInfo.forEach((D) => {\r\n\t\t\t\t\tD.num = num //更新商品配件的数量\r\n\t\t\t\t})\r\n\r\n\t\t\t\t//库存\r\n\t\t\t\tutils.controlPartsStock(this, index)\r\n\t\t\t\t//库存end\r\n\r\n\t\t\t\tlet lists = this.cartLists\r\n\t\t\t\tlet list = []\r\n\t\t\t\tlist = list.concat(this.cartLists)\r\n\r\n\t\t\t\t_this.allMoney = 0\r\n\t\t\t\t_this.addNum = 0\r\n\t\t\t\tsetListNum(this, list)\r\n\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t// 当num为0的时候，剪切掉\r\n\t\t\t\t\tvar Ditem = list[i]\r\n\t\t\t\t\tif (Number(Ditem.num) === 0) {\r\n\t\t\t\t\t\tlist.splice(i, 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\tfor (var k = 0; k < _this.arrayList.length; k++) {\r\n\t\t\t\t\t\tvar Data = _this.arrayList[k]\r\n\t\t\t\t\t\tData.num = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlist = list ? list : []\r\n\t\t\t\tvar prodCateInfo = setLeftNum(this.ProdCateInfo, list)\r\n\r\n\t\t\t\t_this.allMoney = parseFloat(_this.allMoney.toFixed(2))\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t_this.cartLists = list\r\n\t\t\t\t\t_this.ProdCateInfo = prodCateInfo\r\n\t\t\t\t\t_this.addNum = list.length > 0 ? _this.addNum : 0\r\n\t\t\t\t\t_this.allMoney = list.length > 0 ? _this.allMoney : 0\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: \"cartList\",\r\n\t\t\t\t\tdata: list\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickClear() {\r\n\t\t\t\tfor (var k = 0; k < this.arrayList.length; k++) {\r\n\t\t\t\t\tvar Data = this.arrayList[k]\r\n\t\t\t\t\tData.num = 0\r\n\t\t\t\t\tData.showStepper = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.ProdCateInfo.forEach(data => {\r\n\t\t\t\t\tdata.numInfo = 0\r\n\t\t\t\t})\r\n\t\t\t\tthis.arrayList = this.arrayList\r\n\t\t\t\tthis.ProdCateInfo = this.ProdCateInfo\r\n\t\t\t\tthis.cartLists = []\r\n\t\t\t\tthis.addNum = 0\r\n\t\t\t\tthis.allMoney = 0\r\n\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: \"cartList\",\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshopRevertMain() {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: \"../indexMain/index\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickInput() {\r\n\t\t\t\t// 点击输入框   选择地址\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../selectRegion/index\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangeMode(e) {\r\n\t\t\t\tif (this.loading) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.radioMode = e.detail\r\n\t\t\t\tthis.getList()\r\n\t\t\t},\r\n\t\t\tshopClick() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './changeStore/index?indexCan=true'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetList(openID) {\r\n\t\t\t\tthis.radioMode = app.globalData.isPack\r\n\t\t\t\tthis.radioMode = this.radioMode\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tAPIList.api('Index.aspx', {}, openID, this.radioMode).then(D => {\r\n\t\t\t\t\tthis.$showLoads(1, '')\r\n\t\t\t\t\tD.ProdInfo.forEach(data => {\r\n\t\t\t\t\t\tdata.num = 0\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet list = filterList(D.ProdCateInfo[this.currentIndex].CateNo, D.ProdInfo)\r\n\r\n\t\t\t\t\t// 设置左边导航右上角图标\r\n\t\t\t\t\tvar prodCateInfo = setLeftNum(D.ProdCateInfo)\r\n\r\n\t\t\t\t\tthis.ProdCateInfo = prodCateInfo\r\n\t\t\t\t\tthis.allGoodList = D.ProdInfo\r\n\t\t\t\t\tthis.arrayList = list\r\n\t\t\t\t\tthis.shopName = D.ShopName\r\n\t\t\t\t\tapp.globalData.minAmount = D.MinDistributionAmount\r\n\t\t\t\t\tthis.WXSmallProgramKf = D.WX_SmallProgramKf\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.setList()\r\n\t\t\t\t\t// wx.hideNavigationBarLoading()\r\n\t\t\t\t\t// wx.stopPullDownRefresh()\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.loading = false\r\n\r\n\t\t\t\t\t// wx.hideNavigationBarLoading()\r\n\t\t\t\t\t// wx.stopPullDownRefresh()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetList() {\r\n\t\t\t\tvar _this = this\r\n\t\t\t\t_this.addNum = 0\r\n\t\t\t\tlet cartList = uni.getStorageSync('cartList')\r\n\r\n\t\t\t\tthis.allMoney = 0\r\n\t\t\t\tif (cartList && cartList.length > 0) {\r\n\t\t\t\t\tfor (var j = 0; j < _this.arrayList.length; j++) {\r\n\t\t\t\t\t\tvar D = _this.arrayList[j]\r\n\t\t\t\t\t\tD.num = 0 // D.num = 0  //清除所有num\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < cartList.length; i++) {\r\n\t\t\t\t\t\t\tvar Data = cartList[i]\r\n\r\n\t\t\t\t\t\t\tif (Data.ProdNo === D.ProdNo&& !Data.ActiveID) {\r\n\t\t\t\t\t\t\t\t// 只有ProdNo相同的，改变其num\r\n\t\t\t\t\t\t\t\tD.num = Data.num\r\n\t\t\t\t\t\t\t\tif (Data.hasOwnProperty('showStepper')) {\r\n\t\t\t\t\t\t\t\t\tif (Data.num === 0) {\r\n\t\t\t\t\t\t\t\t\t\tD.showStepper = false\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tD.showStepper = Data.showStepper\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var j = 0; j < cartList.length; j++) {\r\n\t\t\t\t\t\tvar Data = cartList[j]\r\n\r\n\t\t\t\t\t\t_this.allMoney += Number(Data.num) * Number(Data.SalePrice)\r\n\t\t\t\t\t\t_this.addNum += Number(Data.num)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 清空数据\r\n\t\t\t\t\tfor (var j = 0; j < _this.arrayList.length; j++) {\r\n\t\t\t\t\t\tvar D = _this.arrayList[j]\r\n\t\t\t\t\t\tD.num = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_this.cartLists = cartList\r\n\t\t\t\t_this.allMoney = parseFloat(_this.allMoney.toFixed(2))\r\n\t\t\t},\r\n\t\t\tdetermine() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './paymentOrder/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearchGoods() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"./searchGood/index\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoodCodeFun() {\r\n\t\t\t\t// 二维码 识别商品\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t_this.isShowCode = false\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet arr = _this.allGoodList.filter(D => Number(D.ProdNo) === Number(res.result))\r\n\t\t\t\t\t\tif (arr.length === 0) {\r\n\t\t\t\t\t\t\t//未找到该商品\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"未找到该商品\",\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t_this.goodCodeData = {}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.goodCodeData = arr[0]\r\n\t\t\t\t\t\t\t_this.isShowCode = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"二维码未识别\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function() {\r\n\t\t},\r\n\t\t\r\n\t}\r\n\r\n\tfunction setListNum(_this, list) { //list 购物车列表,修改购物车列表对应的 num\r\n\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tvar Data = list[i]\r\n\r\n\t\t\tfor (var j = 0; j < _this.arrayList.length; j++) {\r\n\t\t\t\tvar D = _this.arrayList[j]\r\n\r\n\t\t\t\t// Number(Data.num) > 0 && \r\n\t\t\t\tif (Data.ProdNo == D.ProdNo) {\r\n\t\t\t\t\tData.showStepper = D.showStepper\r\n\r\n\t\t\t\t\t// 控制右角沟\r\n\t\t\t\t\tD.num = Data.num\r\n\t\t\t\t\tif (Number(Data.num) == 0) {\r\n\t\t\t\t\t\tD.showStepper = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_this.allMoney += Number(Data.num) * Number(Data.SalePrice)\r\n\t\t\t_this.addNum += Number(Data.num)\r\n\t\t}\r\n\t\t_this.allMoney = parseFloat(_this.allMoney.toFixed(2))\r\n\t}\r\n\r\n\t// 当前左边栏的id, 总的右边数据\r\n\tfunction filterList(currentCate, valueData) {\r\n\t\tlet arr = []\r\n\t\tvalueData.forEach(data => {\r\n\t\t\tif (currentCate == data.CateNo) {\r\n\t\t\t\tarr.push(data)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn arr\r\n\t}\r\n\r\n\tfunction setLeftNum(prodCateInfo, cartList) {\r\n\t\t// 设置左边的点\r\n\t\tvar cartListNew = cartList ? cartList : uni.getStorageSync('cartList')\r\n\r\n\t\tprodCateInfo.forEach(D => {\r\n\t\t\tD.numInfo = 0\r\n\t\t\tif (cartListNew.length > 0) {\r\n\t\t\t\tcartListNew.forEach(item => {\r\n\t\t\t\t\tif (D.CateNo === item.CateNo) {\r\n\t\t\t\t\t\tD.numInfo = D.numInfo + item.num\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn prodCateInfo\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.index-canteen-style {\r\n\t\tbackground: #FFFFFF;\r\n\t\tmin-height: 100vh;\r\n\r\n\t\t.customer-service-style {\r\n\t\t\tright: 35px;\r\n\t\t\tz-index: 5;\r\n\t\t}\r\n\r\n\t\t.uni-popup {\r\n\t\t\tz-index: 10;\r\n\t\t}\r\n\r\n\t\t.homepage {\r\n\t\t\tpadding-top: 79px;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t}\r\n\r\n\t\t.shop-name {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tpadding-top: 5px;\r\n\t\t\tline-height: 25px;\r\n\t\t\tposition: fixed;\r\n\t\t\twidth: 100%;\r\n\t\t\tz-index: 1;\r\n\t\t\tbackground: #fff;\r\n\t\t}\r\n\r\n\t\t.shop-name-icon {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tmargin-right: 4px;\r\n\t\t}\r\n\r\n\t\t.homepage .homePageTop {\r\n\t\t\t/* position:fixed;  */\r\n\t\t\t/* top:0; */\r\n\t\t\twidth: 100%;\r\n\t\t\tz-index: 3;\r\n\t\t}\r\n\r\n\t\t.homepageLeftFa {\r\n\t\t\theight: 100vh;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0;\r\n\t\t\tmin-width: 74px;\r\n\t\t\tmax-width: 74px;\r\n\t\t\toverflow-y: scroll;\r\n\t\t\tbackground: #f9f9f9;\r\n\t\t}\r\n\r\n\t\t.homepageLeftFixed {\r\n\t\t\tfont-size: 11pt;\r\n\t\t\tmargin-bottom: 96px;\r\n\t\t\tcolor: #707070;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tbackground: #f9f9f9;\r\n\t\t\tpadding-bottom: 15px;\r\n\t\t}\r\n\r\n\t\t.homepageLeft {\r\n\t\t\tbackground: #f7f6f6;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 12px 8px;\r\n\t\t\tline-height: 1.4;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.homepageLeft-info {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 5px;\r\n\t\t\tright: 10px;\r\n\t\t\twidth: 10px;\r\n\t\t\theight: 10px;\r\n\t\t\t/* padding: 0 3px; */\r\n\t\t\t/* font-family: PingFang SC, Helvetica Neue, Arial, sans-serif; */\r\n\t\t\tfont-size: 12px;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tline-height: 14px;\r\n\t\t\tcolor: #fff;\r\n\t\t\ttext-align: center;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tborder: 1px solid #fff;\r\n\t\t\tborder-radius: 16px;\r\n\t\t\t-webkit-transform: translateX(50%);\r\n\t\t\ttransform: translateX(50%);\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t-webkit-transform-origin: 100%;\r\n\t\t\ttransform-origin: 100%;\r\n\t\t}\r\n\r\n\t\t.homepageRight {\r\n\t\t\tmargin-left: 74px;\r\n\t\t}\r\n\r\n\t\t.homepage .iconCard {\r\n\t\t\twidth: 44px;\r\n\t\t\theight: 44px;\r\n\t\t\tbackground: #ffa006;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 50px;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 25px;\r\n\t\t\tmargin: 0 0 20px 20px;\r\n\t\t}\r\n\r\n\t\t.homepage .tapCard {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tcolor: #707070;\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\r\n\t\t.custom-popup {\r\n\t\t\tmargin-bottom: 50px;\r\n\t\t}\r\n\r\n\t\t.MockRadio {\r\n\t\t\tpadding: 10px;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\r\n\t\t.MockLabel {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 100%;\r\n\t\t\tline-height: 20px;\r\n\t\t}\r\n\r\n\t\t.indexTop {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin: 10px 0;\r\n\t\t}\r\n\r\n\t\t.changeMode {\r\n\t\t\twidth: 130px;\r\n\t\t\theight: 60px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tbackground: #eee;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tborder-radius: 10px;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #3062a5;\r\n\t\t}\r\n\r\n\t\t.changeModeImg {\r\n\t\t\twidth: 35px !important;\r\n\t\t\theight: 35px;\r\n\t\t}\r\n\r\n\t\t.changeModeLeft {\r\n\t\t\tmargin-right: 20px;\r\n\t\t}\r\n\r\n\t\t.changeModeRight {\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\r\n\t\t.isActive {\r\n\t\t\tborder: 1px solid #3062a5;\r\n\t\t}\r\n\r\n\t\t.shop-revert {\r\n\t\t\tfloat: left;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 5px;\r\n\t\t\tcolor: #777;\r\n\t\t}\r\n\r\n\t\t.shop-revert-icon {\r\n\t\t\tvertical-align: middle;\r\n\t\t}\r\n\r\n\t\t//输入框\r\n\t\t.ReachTime {\r\n\t\t\tpadding: 5px;\r\n\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\tborder-top: 1px solid #eee;\r\n\t\t\tbackground: #fff;\r\n\t\t\tposition: relative;\r\n\t\t\theight: 35px;\r\n\r\n\t\t\t.ReachTimeInput {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.ReachTime .weui-input {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: rgb(238, 238, 238);\r\n\t\t\tborder-radius: 15px;\r\n\t\t\ttext-align: left;\r\n\t\t\tfont-size: 11pt;\r\n\t\t\theight: 30px;\r\n\t\t\tpadding: 2px 12px;\r\n\t\t}\r\n\r\n\t\t.goodCodeStyle {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 8px;\r\n\t\t\ttop: 4px;\r\n\t\t\tfont-size: 22px;\r\n\t\t\twidth: 39px;\r\n\t\t\theight: 33px;\r\n\t\t\tline-height: 33px;\r\n\t\t\tz-index: 5;\r\n\t\t}\r\n\r\n\t\t//输入框end\r\n\r\n\t}\r\n</style>\n"],"sourceRoot":""}